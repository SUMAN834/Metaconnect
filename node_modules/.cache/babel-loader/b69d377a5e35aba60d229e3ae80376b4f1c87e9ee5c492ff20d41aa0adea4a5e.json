{"ast":null,"code":"\"use strict\";\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ContractManager_contractNetworks, _ContractManager_isL1SafeMasterCopy, _ContractManager_safeContract, _ContractManager_multiSendContract, _ContractManager_multiSendCallOnlyContract;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst config_1 = require(\"../contracts/config\");\nconst safeDeploymentContracts_1 = require(\"../contracts/safeDeploymentContracts\");\nclass ContractManager {\n  constructor() {\n    _ContractManager_contractNetworks.set(this, void 0);\n    _ContractManager_isL1SafeMasterCopy.set(this, void 0);\n    _ContractManager_safeContract.set(this, void 0);\n    _ContractManager_multiSendContract.set(this, void 0);\n    _ContractManager_multiSendCallOnlyContract.set(this, void 0);\n  }\n  static async create({\n    ethAdapter,\n    safeAddress,\n    isL1SafeMasterCopy,\n    contractNetworks\n  }) {\n    const contractManager = new ContractManager();\n    await contractManager.init({\n      ethAdapter,\n      safeAddress,\n      isL1SafeMasterCopy,\n      contractNetworks\n    });\n    return contractManager;\n  }\n  async init({\n    ethAdapter,\n    safeAddress,\n    isL1SafeMasterCopy,\n    contractNetworks\n  }) {\n    const chainId = await ethAdapter.getChainId();\n    const customContracts = contractNetworks === null || contractNetworks === void 0 ? void 0 : contractNetworks[chainId];\n    __classPrivateFieldSet(this, _ContractManager_contractNetworks, contractNetworks, \"f\");\n    __classPrivateFieldSet(this, _ContractManager_isL1SafeMasterCopy, isL1SafeMasterCopy, \"f\");\n    const temporarySafeContract = await (0, safeDeploymentContracts_1.getSafeContract)({\n      ethAdapter,\n      safeVersion: config_1.SAFE_LAST_VERSION,\n      chainId,\n      isL1SafeMasterCopy,\n      customSafeAddress: safeAddress,\n      customContracts\n    });\n    const safeVersion = await temporarySafeContract.getVersion();\n    __classPrivateFieldSet(this, _ContractManager_safeContract, await (0, safeDeploymentContracts_1.getSafeContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      isL1SafeMasterCopy,\n      customSafeAddress: safeAddress,\n      customContracts\n    }), \"f\");\n    __classPrivateFieldSet(this, _ContractManager_multiSendContract, await (0, safeDeploymentContracts_1.getMultiSendContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      customContracts\n    }), \"f\");\n    __classPrivateFieldSet(this, _ContractManager_multiSendCallOnlyContract, await (0, safeDeploymentContracts_1.getMultiSendCallOnlyContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      customContracts\n    }), \"f\");\n  }\n  get contractNetworks() {\n    return __classPrivateFieldGet(this, _ContractManager_contractNetworks, \"f\");\n  }\n  get isL1SafeMasterCopy() {\n    return __classPrivateFieldGet(this, _ContractManager_isL1SafeMasterCopy, \"f\");\n  }\n  get safeContract() {\n    return __classPrivateFieldGet(this, _ContractManager_safeContract, \"f\");\n  }\n  get multiSendContract() {\n    return __classPrivateFieldGet(this, _ContractManager_multiSendContract, \"f\");\n  }\n  get multiSendCallOnlyContract() {\n    return __classPrivateFieldGet(this, _ContractManager_multiSendCallOnlyContract, \"f\");\n  }\n}\n_ContractManager_contractNetworks = new WeakMap(), _ContractManager_isL1SafeMasterCopy = new WeakMap(), _ContractManager_safeContract = new WeakMap(), _ContractManager_multiSendContract = new WeakMap(), _ContractManager_multiSendCallOnlyContract = new WeakMap();\nexports.default = ContractManager;","map":{"version":3,"names":["config_1","require","safeDeploymentContracts_1","ContractManager","constructor","_ContractManager_contractNetworks","set","_ContractManager_isL1SafeMasterCopy","_ContractManager_safeContract","_ContractManager_multiSendContract","_ContractManager_multiSendCallOnlyContract","create","ethAdapter","safeAddress","isL1SafeMasterCopy","contractNetworks","contractManager","init","chainId","getChainId","customContracts","__classPrivateFieldSet","temporarySafeContract","getSafeContract","safeVersion","SAFE_LAST_VERSION","customSafeAddress","getVersion","getMultiSendContract","getMultiSendCallOnlyContract","__classPrivateFieldGet","safeContract","multiSendContract","multiSendCallOnlyContract","exports","default"],"sources":["../../../src/managers/contractManager.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;AAKA,MAAAA,QAAA,GAAAC,OAAA;AACA,MAAAC,yBAAA,GAAAD,OAAA;AAQA,MAAME,eAAe;EAArBC,YAAA;IACEC,iCAAA,CAAAC,GAAA;IACAC,mCAAA,CAAAD,GAAA;IACAE,6BAAA,CAAAF,GAAA;IACAG,kCAAA,CAAAH,GAAA;IACAI,0CAAA,CAAAJ,GAAA;EA0EF;EAxEE,aAAaK,MAAMA,CAAC;IAClBC,UAAU;IACVC,WAAW;IACXC,kBAAkB;IAClBC;EAAgB,CACL;IACX,MAAMC,eAAe,GAAG,IAAIb,eAAe,EAAE;IAC7C,MAAMa,eAAe,CAACC,IAAI,CAAC;MAAEL,UAAU;MAAEC,WAAW;MAAEC,kBAAkB;MAAEC;IAAgB,CAAE,CAAC;IAC7F,OAAOC,eAAe;EACxB;EAEA,MAAMC,IAAIA,CAAC;IACTL,UAAU;IACVC,WAAW;IACXC,kBAAkB;IAClBC;EAAgB,CACL;IACX,MAAMG,OAAO,GAAG,MAAMN,UAAU,CAACO,UAAU,EAAE;IAC7C,MAAMC,eAAe,GAAGL,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAGG,OAAO,CAAC;IACnDG,sBAAA,KAAI,EAAAhB,iCAAA,EAAqBU,gBAAgB;IACzCM,sBAAA,KAAI,EAAAd,mCAAA,EAAuBO,kBAAkB;IAE7C,MAAMQ,qBAAqB,GAAG,MAAM,IAAApB,yBAAA,CAAAqB,eAAe,EAAC;MAClDX,UAAU;MACVY,WAAW,EAAExB,QAAA,CAAAyB,iBAAiB;MAC9BP,OAAO;MACPJ,kBAAkB;MAClBY,iBAAiB,EAAEb,WAAW;MAC9BO;KACD,CAAC;IACF,MAAMI,WAAW,GAAG,MAAMF,qBAAqB,CAACK,UAAU,EAAE;IAC5DN,sBAAA,KAAI,EAAAb,6BAAA,EAAiB,MAAM,IAAAN,yBAAA,CAAAqB,eAAe,EAAC;MACzCX,UAAU;MACVY,WAAW;MACXN,OAAO;MACPJ,kBAAkB;MAClBY,iBAAiB,EAAEb,WAAW;MAC9BO;KACD,CAAC;IACFC,sBAAA,KAAI,EAAAZ,kCAAA,EAAsB,MAAM,IAAAP,yBAAA,CAAA0B,oBAAoB,EAAC;MACnDhB,UAAU;MACVY,WAAW;MACXN,OAAO;MACPE;KACD,CAAC;IACFC,sBAAA,KAAI,EAAAX,0CAAA,EAA8B,MAAM,IAAAR,yBAAA,CAAA2B,4BAA4B,EAAC;MACnEjB,UAAU;MACVY,WAAW;MACXN,OAAO;MACPE;KACD,CAAC;EACJ;EAEA,IAAIL,gBAAgBA,CAAA;IAClB,OAAOe,sBAAA,KAAI,EAAAzB,iCAAA,MAAkB;EAC/B;EAEA,IAAIS,kBAAkBA,CAAA;IACpB,OAAOgB,sBAAA,KAAI,EAAAvB,mCAAA,MAAoB;EACjC;EAEA,IAAIwB,YAAYA,CAAA;IACd,OAAOD,sBAAA,KAAI,EAAAtB,6BAAA,MAAc;EAC3B;EAEA,IAAIwB,iBAAiBA,CAAA;IACnB,OAAOF,sBAAA,KAAI,EAAArB,kCAAA,MAAmB;EAChC;EAEA,IAAIwB,yBAAyBA,CAAA;IAC3B,OAAOH,sBAAA,KAAI,EAAApB,0CAAA,MAA2B;EACxC;;;AAGFwB,OAAA,CAAAC,OAAA,GAAehC,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}