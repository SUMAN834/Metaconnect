{"ast":null,"code":"import { _ as _defineProperty } from '../../../../dist/defineProperty-c8ecdc07.browser.esm.js';\nimport { W as WagmiAdapter } from '../../../../dist/connector-05689d68.browser.esm.js';\nimport { a as AbstractClientWallet } from '../../../../dist/base-eec23f27.browser.esm.js';\nimport { w as walletIds } from '../../../../dist/walletIds-e41b240b.browser.esm.js';\nimport 'eventemitter3';\nimport '../../../../dist/classPrivateMethodGet-ea199cc3.browser.esm.js';\nimport '../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js';\nimport '@thirdweb-dev/chains';\nimport '../../abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js';\nimport 'ethers';\nimport '@thirdweb-dev/sdk';\nclass MagicLink extends AbstractClientWallet {\n  get walletName() {\n    return \"Magic Link\";\n  }\n  constructor(options) {\n    super(MagicLink.id, options);\n    this.options = options;\n  }\n  async initializeConnector() {\n    // import the connector dynamically\n    const {\n      MagicAuthConnector\n    } = await import('../../../connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.browser.esm.js');\n    const magicConnector = new MagicAuthConnector({\n      chains: this.chains,\n      options: this.options\n    });\n    this.magicConnector = magicConnector;\n    this.connector = new WagmiAdapter(magicConnector);\n    return this.connector;\n  }\n  async getConnector() {\n    if (!this.connector) {\n      return await this.initializeConnector();\n    }\n    return this.connector;\n  }\n  getMagic() {\n    if (!this.magicConnector) {\n      throw new Error(\"Magic connector is not initialized\");\n    }\n    return this.magicConnector.getMagicSDK();\n  }\n  async autoConnect(options) {\n    await this.initializeConnector();\n    await this.magicConnector?.initializeMagicSDK(options);\n    const magic = this.getMagic();\n    {\n      const url = new URL(window.location.href);\n      const isMagicRedirect = url.searchParams.get(\"magic_credential\");\n      if (isMagicRedirect) {\n        try {\n          this.oAuthRedirectResult = await magic.oauth.getRedirectResult(); // required to do this for social login\n        } catch {\n          // ignore\n        }\n      }\n    }\n    const isLoggedIn = await magic.user.isLoggedIn();\n    if (isLoggedIn) {\n      return super.autoConnect(options);\n    }\n    throw new Error(\"Magic user is not logged in\");\n  }\n  async disconnect() {\n    this.oAuthRedirectResult = undefined;\n    const magic = this.getMagic();\n    await magic.user.logout();\n    return super.disconnect();\n  }\n  async connect(options) {\n    if (\"email\" in options && this.options.emailLogin === false) {\n      throw new Error(\"Email login is disabled\");\n    }\n    if (\"phoneNumber\" in options && this.options.smsLogin === false) {\n      throw new Error(\"SMS login is disabled\");\n    }\n    return super.connect(options);\n  }\n}\n_defineProperty(MagicLink, \"meta\", {\n  iconURL: \"ipfs://QmUMBFZGXxBpgDmZzZAHhbcCL5nYvZnVaYLTajsNjLcxMU/1-Icon_Magic_Color.svg\",\n  name: \"Magic Link\"\n});\n_defineProperty(MagicLink, \"id\", walletIds.magicLink);\nexport { MagicLink };","map":{"version":3,"names":["_","_defineProperty","W","WagmiAdapter","a","AbstractClientWallet","w","walletIds","MagicLink","walletName","constructor","options","id","initializeConnector","MagicAuthConnector","magicConnector","chains","connector","getConnector","getMagic","Error","getMagicSDK","autoConnect","initializeMagicSDK","magic","url","URL","window","location","href","isMagicRedirect","searchParams","get","oAuthRedirectResult","oauth","getRedirectResult","isLoggedIn","user","disconnect","undefined","logout","connect","emailLogin","smsLogin","iconURL","name","magicLink"],"sources":["C:/Users/SUMAN K/meta_transfer/node_modules/@thirdweb-dev/wallets/evm/wallets/magic/dist/thirdweb-dev-wallets-evm-wallets-magic.browser.esm.js"],"sourcesContent":["import { _ as _defineProperty } from '../../../../dist/defineProperty-c8ecdc07.browser.esm.js';\nimport { W as WagmiAdapter } from '../../../../dist/connector-05689d68.browser.esm.js';\nimport { a as AbstractClientWallet } from '../../../../dist/base-eec23f27.browser.esm.js';\nimport { w as walletIds } from '../../../../dist/walletIds-e41b240b.browser.esm.js';\nimport 'eventemitter3';\nimport '../../../../dist/classPrivateMethodGet-ea199cc3.browser.esm.js';\nimport '../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js';\nimport '@thirdweb-dev/chains';\nimport '../../abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js';\nimport 'ethers';\nimport '@thirdweb-dev/sdk';\n\nclass MagicLink extends AbstractClientWallet {\n  get walletName() {\n    return \"Magic Link\";\n  }\n  constructor(options) {\n    super(MagicLink.id, options);\n    this.options = options;\n  }\n  async initializeConnector() {\n    // import the connector dynamically\n    const {\n      MagicAuthConnector\n    } = await import('../../../connectors/magic/dist/thirdweb-dev-wallets-evm-connectors-magic.browser.esm.js');\n    const magicConnector = new MagicAuthConnector({\n      chains: this.chains,\n      options: this.options\n    });\n    this.magicConnector = magicConnector;\n    this.connector = new WagmiAdapter(magicConnector);\n    return this.connector;\n  }\n  async getConnector() {\n    if (!this.connector) {\n      return await this.initializeConnector();\n    }\n    return this.connector;\n  }\n  getMagic() {\n    if (!this.magicConnector) {\n      throw new Error(\"Magic connector is not initialized\");\n    }\n    return this.magicConnector.getMagicSDK();\n  }\n  async autoConnect(options) {\n    await this.initializeConnector();\n    await this.magicConnector?.initializeMagicSDK(options);\n    const magic = this.getMagic();\n    {\n      const url = new URL(window.location.href);\n      const isMagicRedirect = url.searchParams.get(\"magic_credential\");\n      if (isMagicRedirect) {\n        try {\n          this.oAuthRedirectResult = await magic.oauth.getRedirectResult(); // required to do this for social login\n        } catch {\n          // ignore\n        }\n      }\n    }\n    const isLoggedIn = await magic.user.isLoggedIn();\n    if (isLoggedIn) {\n      return super.autoConnect(options);\n    }\n    throw new Error(\"Magic user is not logged in\");\n  }\n  async disconnect() {\n    this.oAuthRedirectResult = undefined;\n    const magic = this.getMagic();\n    await magic.user.logout();\n    return super.disconnect();\n  }\n  async connect(options) {\n    if (\"email\" in options && this.options.emailLogin === false) {\n      throw new Error(\"Email login is disabled\");\n    }\n    if (\"phoneNumber\" in options && this.options.smsLogin === false) {\n      throw new Error(\"SMS login is disabled\");\n    }\n    return super.connect(options);\n  }\n}\n_defineProperty(MagicLink, \"meta\", {\n  iconURL: \"ipfs://QmUMBFZGXxBpgDmZzZAHhbcCL5nYvZnVaYLTajsNjLcxMU/1-Icon_Magic_Color.svg\",\n  name: \"Magic Link\"\n});\n_defineProperty(MagicLink, \"id\", walletIds.magicLink);\n\nexport { MagicLink };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}