{"ast":null,"code":"import { E as ExportLocalWallet, s as shortenAddress } from './useWalletConnect-ab184ca8.browser.esm.js';\nexport { a as ConnectModalInline, C as ConnectWallet, M as MediaRenderer, N as NetworkSelector, n as ThirdwebNftMedia, T as ThirdwebProvider, W as Web3Button, d as defaultTokens, h as useBloctoWallet, f as useCoinbaseWallet, g as useFrameWallet, u as useInstalledWallets, e as useMetamask, j as usePaperWallet, i as usePaperWalletUserEmail, b as useRainbowWallet, m as useResolvedMediaType, c as useTrustWallet, k as useWalletConnect, l as useWalletConnectV1 } from './useWalletConnect-ab184ca8.browser.esm.js';\nimport { F as FormFieldWithIconButton, w as wait, H as HeadlessConnectUI, S as ScanScreen, C as ConnectingScreen, G as GetStartedScreen } from './safeChainSlug-b497b340.browser.esm.js';\nexport { c as coinbaseWallet, d as defaultWallets, m as metamaskWallet, p as phantomWallet, r as rainbowWallet, t as trustWallet, a as walletConnect, z as zerionWallet } from './safeChainSlug-b497b340.browser.esm.js';\nimport { useConnect, useCreateWalletInstance, useSetConnectionStatus, useSetConnectedWallet, useConnectionStatus, useWalletContext, useWallet, useChain, useNetworkMismatch, useSwitchChain } from '@thirdweb-dev/react-core';\nexport * from '@thirdweb-dev/react-core';\nimport { useCallback, useEffect, useState, useRef, useContext } from 'react';\nexport { bloctoWallet } from './bloctoWallet-41e93ea8.browser.esm.js';\nimport { EmbeddedWallet, LocalWallet, SmartWallet, OKXWallet, getInjectedOKXProvider } from '@thirdweb-dev/wallets';\nexport { BloctoWallet, CoinbaseWallet, EmbeddedWallet, FrameWallet, InjectedWallet, LocalWallet, MagicLink, MetaMaskWallet, OKXWallet, PaperWallet, PhantomWallet, RainbowWallet, SafeWallet, SignerWallet, SmartWallet, TrustWallet, WalletConnect, ZerionWallet, setWalletAnalyticsEnabled } from '@thirdweb-dev/wallets';\nimport { e as emailIcon, u as useScreenContext } from './Tooltip-45fca288.browser.esm.js';\nimport { B as Button, s as spacing, i as iconSize, T as TextDivider, C as Container, M as ModalHeader, S as Spacer, a as ModalTitle, b as Text, c as Spinner, f as fadeInAnimation, d as fontSize, L as Line, r as reservedScreens, W as WalletEntryButton, e as radius, g as isMobile, h as ModalDescription, j as ModalConfigCtx, k as Label } from './formElements-33f68cb9.browser.esm.js';\nexport { l as darkTheme, m as lightTheme, u as useIsWalletModalOpen, n as useSetIsWalletModalOpen } from './formElements-33f68cb9.browser.esm.js';\nimport styled from '@emotion/styled';\nimport { G as GoogleIcon, o as openGoogleSignInWindow, O as OTPInput } from './paperWallet-cec67362.browser.esm.js';\nexport { p as paperWallet } from './paperWallet-cec67362.browser.esm.js';\nimport { I as InputSelectionUI } from './InputSelectionUI-de582cbe.browser.esm.js';\nimport { useTheme } from '@emotion/react';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nexport { frameWallet } from './frameWallet-7d2db702.browser.esm.js';\nimport { UploadIcon, EyeClosedIcon, EyeOpenIcon, ExclamationTriangleIcon } from '@radix-ui/react-icons';\nexport { magicLink } from './magicLink-950b0167.browser.esm.js';\nexport { safeWallet } from './safeWallet-7990fd4a.browser.esm.js';\nexport { walletConnectV1 } from './walletConnectV1-b3216193.browser.esm.js';\nexport { u as useSafe } from './useSafe-b22cb1d1.browser.esm.js';\nexport { u as useMagic } from './useMagic-7d945dce.browser.esm.js';\nimport '@tanstack/react-query';\nimport '@radix-ui/react-popover';\nimport 'copy-to-clipboard';\nimport 'ethers';\nimport '@radix-ui/react-tabs';\nimport 'fuse.js';\nimport '@radix-ui/react-dropdown-menu';\nimport '@thirdweb-dev/chains';\nimport '@thirdweb-dev/sdk';\nimport 'tiny-invariant';\nimport '@radix-ui/react-dialog';\nimport 'qrcode';\nimport '@radix-ui/react-tooltip';\nimport 'detect-browser';\nimport '@radix-ui/colors';\nfunction useSmartWallet() {\n  const connect = useConnect();\n  return useCallback(async (wallet, options) => {\n    const {\n      smartWallet\n    } = await Promise.resolve().then(function () {\n      return smartWallet$1;\n    });\n    return connect(smartWallet(wallet, options), options);\n  }, [connect]);\n}\nconst EmbeddedWalletFormUI = props => {\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const themeObj = useTheme();\n\n  // Need to trigger google login on button click to avoid popup from being blocked\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow(themeObj);\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(e);\n    }\n  };\n  return /*#__PURE__*/jsxs(\"div\", {\n    children: [/*#__PURE__*/jsxs(SocialButton, {\n      variant: \"secondary\",\n      fullWidth: true,\n      onClick: () => {\n        googleLogin();\n        props.onSelect({\n          google: true\n        });\n      },\n      children: [/*#__PURE__*/jsx(GoogleIcon, {\n        size: iconSize.md\n      }), \"Sign in with Google\"]\n    }), /*#__PURE__*/jsx(TextDivider, {\n      text: \"OR\",\n      py: \"lg\"\n    }), /*#__PURE__*/jsx(InputSelectionUI, {\n      onSelect: email => props.onSelect({\n        email\n      }),\n      placeholder: \"Enter your email address\",\n      name: \"email\",\n      type: \"email\",\n      errorMessage: _input => {\n        const input = _input.replace(/\\+/g, \"\");\n        const emailRegex = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,})$/g;\n        const isValidEmail = emailRegex.test(input);\n        if (!isValidEmail) {\n          return \"Invalid email address\";\n        }\n      },\n      emptyErrorMessage: \"email address is required\"\n    })]\n  });\n};\nconst EmbeddedWalletFormUIScreen = props => {\n  const isCompact = props.modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    p: \"lg\",\n    animate: \"fadein\",\n    style: {\n      minHeight: \"250px\"\n    },\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Sign in\"\n    }), isCompact ? /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }) : null, /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      p: isCompact ? undefined : \"lg\",\n      children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n        walletConfig: props.walletConfig,\n        onSelect: props.onSelect\n      })\n    })]\n  });\n};\nconst SocialButton = styled(Button)`\n  display: flex;\n  justify-content: center;\n  gap: ${spacing.sm};\n`;\nconst EmbeddedWalletGoogleLogin = props => {\n  const {\n    goBack,\n    modalSize\n  } = props;\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const connectionStatus = useConnectionStatus();\n  const themeObj = useTheme();\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow(themeObj);\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n      props.connected();\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(\"Error logging into google\", e);\n    }\n  };\n  const closeModal = props.connected;\n  useEffect(() => {\n    if (connectionStatus === \"connected\") {\n      closeModal();\n    }\n  }, [connectionStatus, closeModal]);\n  return /*#__PURE__*/jsx(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: /*#__PURE__*/jsxs(Container, {\n      flex: \"column\",\n      expand: true,\n      p: \"lg\",\n      style: {\n        paddingBottom: 0\n      },\n      children: [/*#__PURE__*/jsx(ModalHeader, {\n        title: /*#__PURE__*/jsxs(Container, {\n          flex: \"row\",\n          center: \"both\",\n          gap: \"xs\",\n          children: [/*#__PURE__*/jsx(GoogleIcon, {\n            size: iconSize.md\n          }), /*#__PURE__*/jsx(ModalTitle, {\n            children: \" Sign in \"\n          })]\n        }),\n        onBack: goBack\n      }), modalSize === \"compact\" ? /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }) : null, /*#__PURE__*/jsxs(Container, {\n        flex: \"column\",\n        center: \"both\",\n        expand: true,\n        style: {\n          textAlign: \"center\",\n          minHeight: \"250px\"\n        },\n        children: [connectionStatus === \"connecting\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            multiline: true,\n            style: {\n              maxWidth: \"250px\"\n            },\n            children: \"Select your Google account in the pop-up\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Container, {\n            center: \"x\",\n            flex: \"row\",\n            children: /*#__PURE__*/jsx(Spinner, {\n              size: \"lg\",\n              color: \"accentText\"\n            })\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), connectionStatus === \"disconnected\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"danger\",\n            children: \"Failed to sign in\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), /*#__PURE__*/jsxs(Button, {\n            variant: \"primary\",\n            onClick: googleLogin,\n            children: [\" \", \"Retry\", \" \"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        })]\n      })]\n    })\n  });\n};\nconst FadeIn = styled.div`\n  animation: ${fadeInAnimation} 0.15s ease-in;\n`;\nconst EmbeddedWalletOTPLoginUI = props => {\n  const email = props.selectionData;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const {\n    createWalletInstance,\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [wallet, setWallet] = useState(null);\n  const isWideModal = props.modalSize === \"wide\";\n  const [verifyStatus, setVerifyStatus] = useState(\"idle\");\n  const [sendEmailOtpStatus, setSendEmailOtpStatus] = useState(\"sending\");\n  const sendEmail = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setSendEmailOtpStatus(\"sending\");\n    try {\n      const _wallet = createWalletInstance(props.walletConfig);\n      setWallet(_wallet);\n      const _embeddedWalletSdk = await _wallet.getEmbeddedWalletSDK();\n      await _embeddedWalletSdk.auth.sendEmailLoginOtp({\n        email: email\n      });\n      setSendEmailOtpStatus(\"sent\");\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setSendEmailOtpStatus(\"error\");\n    }\n  }, [createWalletInstance, email, props.walletConfig]);\n  const handleSubmit = otp => {\n    if (sendEmailOtpStatus !== \"sent\" || otp.length !== 6) {\n      return;\n    }\n    verifyCodes(otp);\n  };\n  const verifyCodes = async otp => {\n    setVerifyStatus(\"idle\");\n    if (!wallet) {\n      return;\n    }\n    try {\n      setVerifyStatus(\"verifying\");\n      setConnectionStatus(\"connecting\");\n      await wallet.connect({\n        loginType: \"headless_email_otp_verification\",\n        email,\n        otp\n      });\n      setConnectedWallet(wallet);\n      setVerifyStatus(\"valid\");\n      props.connected();\n    } catch (e) {\n      setVerifyStatus(\"invalid\");\n      console.error(e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmail();\n    }\n  }, [sendEmail]);\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: \"Sign in\",\n        onBack: props.goBack\n      })\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      children: /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/jsxs(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [!isWideModal && /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Text, {\n            children: \"Enter the verification code sent to\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"sm\"\n          }), /*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            children: email\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(OTPInput, {\n          isInvalid: verifyStatus === \"invalid\",\n          digits: 6,\n          value: otpInput,\n          setValue: value => {\n            setOtpInput(value);\n            setVerifyStatus(\"idle\"); // reset error\n            handleSubmit(value);\n          },\n          onEnter: () => {\n            handleSubmit(otpInput);\n          }\n        }), verifyStatus === \"invalid\" && /*#__PURE__*/jsxs(FadeIn, {\n          children: [/*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Text, {\n            size: \"sm\",\n            color: \"danger\",\n            center: true,\n            children: \"Invalid verification code\"\n          })]\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsx(Container, {\n          px: isWideModal ? \"xxl\" : \"lg\",\n          children: verifyStatus === \"verifying\" ? /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Container, {\n              flex: \"row\",\n              center: \"x\",\n              animate: \"fadein\",\n              children: /*#__PURE__*/jsx(Spinner, {\n                size: \"lg\",\n                color: \"accentText\"\n              })\n            })\n          }) : /*#__PURE__*/jsx(Container, {\n            animate: \"fadein\",\n            children: /*#__PURE__*/jsx(Button, {\n              onClick: () => handleSubmit(otpInput),\n              variant: \"accent\",\n              type: \"submit\",\n              style: {\n                width: \"100%\"\n              },\n              children: \"Verify\"\n            })\n          }, \"btn-container\")\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), !isWideModal && /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n          p: isWideModal ? undefined : \"lg\",\n          children: [sendEmailOtpStatus === \"error\" && /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              center: true,\n              color: \"danger\",\n              children: \"Failed to send verification code\"\n            })\n          }), sendEmailOtpStatus === \"sending\" && /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            center: \"both\",\n            gap: \"xs\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              children: \"Sending verification code\"\n            }), /*#__PURE__*/jsx(Spinner, {\n              size: \"xs\",\n              color: \"secondaryText\"\n            })]\n          }), sendEmailOtpStatus === \"sent\" && /*#__PURE__*/jsx(LinkButton, {\n            onClick: sendEmail,\n            type: \"button\",\n            children: \"Resend verification code\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst LinkButton = styled.button`\n  all: unset;\n  color: ${p => p.theme.colors.accentText};\n  font-size: ${fontSize.sm};\n  cursor: pointer;\n  text-align: center;\n  font-weight: 500;\n  width: 100%;\n  &:hover {\n    color: ${p => p.theme.colors.primaryText};\n  }\n`;\nconst embeddedWallet = config => {\n  return {\n    category: \"socialLogin\",\n    isHeadless: true,\n    id: EmbeddedWallet.id,\n    recommended: config?.recommended,\n    meta: {\n      ...EmbeddedWallet.meta,\n      name: \"Email\",\n      iconURL: emailIcon\n    },\n    create(options) {\n      return new EmbeddedWallet({\n        ...options,\n        ...config,\n        clientId: options?.clientId ?? \"\"\n      });\n    },\n    selectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletSelectionUI, {\n        ...props\n      });\n    },\n    connectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletConnectUI, {\n        ...props\n      });\n    }\n  };\n};\nconst EmbeddedWalletSelectionUI = props => {\n  const screen = useScreenContext();\n\n  // show the icon + text if\n  // wide -\n  // compact + not main screen (safe/smart wallet list screen)\n  if (props.modalSize === \"wide\" || screen !== reservedScreens.main && props.modalSize === \"compact\") {\n    return /*#__PURE__*/jsx(WalletEntryButton, {\n      walletConfig: props.walletConfig,\n      selectWallet: () => {\n        props.onSelect(undefined);\n      }\n    });\n  }\n  return /*#__PURE__*/jsx(\"div\", {\n    children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n      onSelect: props.onSelect,\n      walletConfig: props.walletConfig\n    })\n  });\n};\nconst EmbeddedWalletConnectUI = props => {\n  const [loginType, setLoginType] = useState(props.selectionData);\n  if (loginType) {\n    const handleBack = () => {\n      // go back to base screen\n      if (props.modalSize === \"wide\") {\n        setLoginType(undefined);\n      }\n\n      // go to main screen\n      else {\n        props.goBack();\n      }\n    };\n    if (\"email\" in loginType) {\n      return /*#__PURE__*/jsx(EmbeddedWalletOTPLoginUI, {\n        ...props,\n        selectionData: loginType.email,\n        goBack: handleBack\n      });\n    }\n\n    // google\n    else {\n      return /*#__PURE__*/jsx(EmbeddedWalletGoogleLogin, {\n        ...props,\n        goBack: handleBack\n      });\n    }\n  }\n  return /*#__PURE__*/jsx(EmbeddedWalletFormUIScreen, {\n    modalSize: props.modalSize,\n    onSelect: _loginType => {\n      setLoginType(_loginType);\n    },\n    walletConfig: props.walletConfig,\n    onBack: props.goBack\n  });\n};\nfunction useLocalWalletInfo(localWalletConfig, persist) {\n  const [walletData, setWalletData] = useState(\"loading\");\n  const createWalletInstance = useCreateWalletInstance();\n  const [localWallet, setLocalWallet] = useState(null);\n  useEffect(() => {\n    const wallet = createWalletInstance(localWalletConfig);\n    setLocalWallet(wallet);\n    if (persist) {\n      wallet.getSavedData().then(data => {\n        setWalletData(data);\n      });\n    }\n  }, [createWalletInstance, localWalletConfig, persist]);\n  return {\n    setLocalWallet,\n    localWallet,\n    walletData,\n    meta: localWalletConfig.meta,\n    persist: persist\n  };\n}\nconst DragNDrop = props => {\n  const [error, setError] = useState(false);\n  const [uploaded, setUploaded] = useState();\n  const [isDragging, setIsDragging] = useState(false);\n  const dragIn = e => {\n    setError(false);\n    setUploaded(undefined);\n    setIsDragging(true);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const dragOut = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleFileUpload = file => {\n    if (file.type !== props.accept) {\n      setError(true);\n    } else {\n      setUploaded(file);\n      props.onUpload(file);\n    }\n  };\n  const drop = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const fileContent = e.dataTransfer.files[0];\n      if (fileContent) {\n        handleFileUpload(fileContent);\n        e.dataTransfer.clearData();\n      }\n    }\n  };\n  const message = isMobile() ? \"Click to Upload\" : \"Drop your file here or click to upload\";\n  return /*#__PURE__*/jsx(\"div\", {\n    onDragEnter: dragIn,\n    onDragLeave: dragOut,\n    onDragOver: e => {\n      setIsDragging(true);\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    onClick: () => {\n      setError(false);\n    },\n    onDrop: drop,\n    style: {\n      cursor: \"pointer\"\n    },\n    children: /*#__PURE__*/jsxs(\"label\", {\n      htmlFor: \"file-upload\",\n      children: [/*#__PURE__*/jsx(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: props.accept,\n        multiple: false,\n        style: {\n          display: \"none\"\n        },\n        onChange: e => {\n          if (e.target.files && e.target.files[0]) {\n            handleFileUpload(e.target.files[0]);\n          }\n        }\n      }), /*#__PURE__*/jsx(DropContainer, {\n        \"data-error\": error,\n        \"data-is-dragging\": isDragging,\n        children: !uploaded ? /*#__PURE__*/jsxs(Fragment, {\n          children: [\" \", /*#__PURE__*/jsx(UploadIconSecondary, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsxs(Text, {\n            color: \"primaryText\",\n            weight: 600,\n            center: true,\n            multiline: true,\n            children: [\" \", message]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), error ? /*#__PURE__*/jsxs(Text, {\n            color: \"danger\",\n            size: \"sm\",\n            children: [\" \", \"Please upload a \", props.extension, \" file\", \" \"]\n          }) : /*#__PURE__*/jsxs(Text, {\n            size: \"sm\",\n            children: [\" \", props.extension, \" \"]\n          })]\n        }) : /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsxs(Text, {\n            weight: 600,\n            color: \"primaryText\",\n            center: true,\n            multiline: true,\n            children: [uploaded.name, \" uploaded successfully\"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Container, {\n            color: \"success\",\n            children: /*#__PURE__*/jsx(CheckCircleIcon, {\n              size: iconSize.xl\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\nconst UploadIconSecondary = styled(UploadIcon)`\n  color: ${props => props.theme.colors.secondaryIconColor};\n  transition:\n    transform 200ms ease,\n    color 200ms ease;\n`;\nconst DropContainer = styled.div`\n  border: 2px solid ${p => p.theme.colors.borderColor};\n  border-radius: ${radius.md};\n  padding: ${spacing.xl} ${spacing.md};\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  transition: border-color 200ms ease;\n\n  &:hover,\n  &[data-is-dragging=\"true\"] {\n    border-color: ${p => p.theme.colors.accentText};\n    svg {\n      color: ${p => p.theme.colors.accentText};\n    }\n  }\n\n  &[data-error=\"true\"] {\n    border-color: ${p => p.theme.colors.danger};\n  }\n`;\nconst CheckCircleIcon = props => /*#__PURE__*/jsxs(\"svg\", {\n  width: props.size,\n  height: props.size,\n  viewBox: \"0 0 38 38\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6666 17.4671V19.0004C35.6645 22.5945 34.5008 26.0916 32.3488 28.9701C30.1969 31.8487 27.1721 33.9546 23.7255 34.9736C20.279 35.9926 16.5954 35.8703 13.224 34.6247C9.85272 33.3792 6.97434 31.0773 5.01819 28.0622C3.06203 25.0472 2.1329 21.4805 2.36938 17.8943C2.60586 14.308 3.99526 10.8943 6.33039 8.16221C8.66551 5.43012 11.8212 3.52606 15.3269 2.734C18.8326 1.94194 22.5004 2.30432 25.7833 3.76709\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6667 5.66699L19 22.3503L14 17.3503\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n});\nconst ImportLocalWallet = props => {\n  const [jsonString, setJsonString] = useState();\n  const {\n    setLocalWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const createWalletInstance = useCreateWalletInstance();\n  const [password, setPassword] = useState(\"\");\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [importedAddress, setImportedAddress] = useState();\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const handleImport = async () => {\n    const localWallet = createWalletInstance(props.localWalletConf);\n    if (!localWallet || !jsonString) {\n      throw new Error(\"Invalid state\");\n    }\n    try {\n      await localWallet.import({\n        encryptedJson: jsonString,\n        password\n      });\n    } catch (e) {\n      console.error(e);\n      setIsWrongPassword(true);\n      return;\n    }\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setLocalWallet(localWallet);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.goBack,\n        title: \"Import Wallet\"\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(ModalDescription, {\n        children: \"The application can authorize any transactions on behalf of the wallet without any approvals\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xs\"\n      }), /*#__PURE__*/jsx(ModalDescription, {\n        children: \"We recommend only connecting to trusted applications\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(DragNDrop, {\n        extension: \"JSON\",\n        accept: \"application/json\",\n        onUpload: file => {\n          const reader = new FileReader();\n          reader.onload = event => {\n            setJsonString(event.target?.result);\n            const obj = JSON.parse(event.target?.result);\n            setImportedAddress(obj.address);\n          };\n          reader.readAsText(file, \"utf-8\");\n        }\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleImport();\n        },\n        children: [jsonString && /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            autoComplete: \"off\",\n            value: importedAddress || \"\",\n            disabled: true,\n            style: {\n              display: \"none\"\n            }\n          }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n            required: true,\n            noSave: true,\n            name: \"password\",\n            autocomplete: \"off\",\n            id: \"password\",\n            onChange: value => {\n              setPassword(value);\n              setIsWrongPassword(false);\n            },\n            right: {\n              onClick: () => setShowPassword(!showPassword),\n              icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n            },\n            label: \"Password\",\n            type: showPassword ? \"text\" : \"password\",\n            value: password,\n            error: isWrongPassword ? \"Wrong Password\" : \"\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          style: {\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/jsx(Button, {\n            variant: \"accent\",\n            type: \"submit\",\n            disabled: !jsonString,\n            style: {\n              minWidth: \"110px\",\n              opacity: jsonString ? 1 : 0.5\n            },\n            children: \"Import\"\n          })\n        })]\n      })]\n    })]\n  });\n};\nconst CreateLocalWallet_Password = props => {\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const passwordMismatch = confirmPassword && password !== confirmPassword;\n  const [isConnecting, setIsConnecting] = useState(false);\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [showImportScreen, setShowImportScreen] = useState(false);\n  const [generatedAddress, setGeneratedAddress] = useState(null);\n\n  // generating wallet before it's required to render a form with hidden address as username for better autofill\n  useEffect(() => {\n    if (!localWallet || showImportScreen || localWallet.ethersWallet) {\n      return;\n    }\n    localWallet.generate().then(_address => {\n      setGeneratedAddress(_address);\n    });\n  }, [localWallet, showImportScreen]);\n  if (showImportScreen) {\n    return /*#__PURE__*/jsx(ImportLocalWallet, {\n      localWalletConf: props.localWalletConf,\n      onConnect: props.onConnect,\n      goBack: () => {\n        setShowImportScreen(false);\n      },\n      persist: props.persist\n    });\n  }\n  const handleConnect = async () => {\n    if (passwordMismatch || !localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setIsConnecting(false);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: props.localWalletConf.meta.name\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      expand: true,\n      p: \"lg\",\n      children: [/*#__PURE__*/jsxs(ModalDescription, {\n        children: [\"Choose a password for your wallet \", /*#__PURE__*/jsx(\"br\", {}), \" You\", `'`, \"ll be able to access and export this wallet with the same password\"]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleConnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: generatedAddress || \"\",\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"new-password\",\n          onChange: value => setPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          dataTest: \"new-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"confirm-password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"confirm-password\",\n          onChange: value => setConfirmPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Confirm Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: confirmPassword,\n          error: passwordMismatch ? \"Passwords don't match\" : \"\",\n          dataTest: \"confirm-password\",\n          noErrorShift: true\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          disabled: isConnecting,\n          fullWidth: true,\n          style: {\n            gap: spacing.xs,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          \"data-test\": \"create-new-wallet-button\",\n          children: [isConnecting ? \"Connecting\" : \"Create new wallet\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"sm\"\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(Button, {\n        fullWidth: true,\n        variant: \"link\",\n        onClick: () => {\n          setShowImportScreen(true);\n        },\n        style: {\n          display: \"flex\",\n          gap: spacing.sm,\n          alignItems: \"center\"\n        },\n        children: \"Import wallet\"\n      })\n    })]\n  });\n};\nconst CreateLocalWallet_Guest = props => {\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const {\n    onConnect\n  } = props;\n  const handleConnect = useCallback(async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    await localWallet.generate();\n    setConnectionStatus(\"connecting\");\n    await wait(1000);\n    await localWallet.connect();\n    setConnectedWallet(localWallet);\n    onConnect();\n  }, [localWallet, setConnectedWallet, onConnect, setConnectionStatus]);\n  const connecting = useRef(false);\n  useEffect(() => {\n    if (connecting.current || !localWallet) {\n      return;\n    }\n    connecting.current = true;\n    handleConnect();\n  }, [handleConnect, localWallet]);\n  return /*#__PURE__*/jsx(Container, {\n    flex: \"row\",\n    center: \"both\",\n    fullHeight: true,\n    style: {\n      minHeight: \"300px\"\n    },\n    children: /*#__PURE__*/jsx(Spinner, {\n      size: \"xl\",\n      color: \"accentText\"\n    })\n  });\n};\nconst OverrideConfirmation = props => {\n  const isCompact = useContext(ModalConfigCtx).modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.onBack,\n        title: \"Warning\"\n      })\n    }), /*#__PURE__*/jsxs(Container, {\n      p: isCompact ? \"lg\" : \"xxl\",\n      expand: true,\n      center: \"y\",\n      flex: \"column\",\n      children: [/*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        center: \"x\",\n        color: \"danger\",\n        children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n          width: iconSize.xl,\n          height: iconSize.xl\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Text, {\n        multiline: true,\n        center: true,\n        children: \"Your current wallet will be deleted if you create a new wallet. Backup wallet to your device before creating a new wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        style: {\n          justifyContent: \"flex-end\"\n        },\n        children: /*#__PURE__*/jsx(Button, {\n          variant: \"accent\",\n          fullWidth: true,\n          onClick: props.onBackup,\n          children: \"Backup wallet\"\n        })\n      })]\n    })]\n  });\n};\n\n/**\n * For No-Credential scenario\n */\nconst ReconnectLocalWallet = props => {\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [showCreate, setShowCreate] = useState(false);\n  const [showBackupConfirmation, setShowBackupConfirmation] = useState(false);\n  const [showExport, setShowExport] = useState(false);\n  const {\n    localWallet,\n    meta,\n    walletData\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const savedAddress = walletData ? walletData === \"loading\" ? \"\" : walletData.address : \"\";\n  if (showExport) {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    return /*#__PURE__*/jsx(ExportLocalWallet, {\n      modalSize: props.modalSize,\n      localWalletConfig: props.localWallet,\n      onBack: () => {\n        setShowExport(false);\n      },\n      onExport: () => {\n        setShowExport(false);\n        setShowBackupConfirmation(false);\n        setShowCreate(true);\n      }\n    });\n  }\n  if (showBackupConfirmation) {\n    return /*#__PURE__*/jsx(OverrideConfirmation, {\n      meta: meta,\n      onBackup: () => {\n        setShowExport(true);\n      },\n      onBack: () => {\n        setShowBackupConfirmation(false);\n      }\n    });\n  }\n  if (showCreate) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n      renderBackButton: props.supportedWallets.length > 1,\n      localWalletConf: props.localWallet,\n      goBack: () => {\n        setShowCreate(false);\n      },\n      onConnect: props.onConnect,\n      persist: props.persist\n    });\n  }\n  const handleReconnect = async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    try {\n      await localWallet.load({\n        strategy: \"encryptedJson\",\n        password\n      });\n      setConnectionStatus(\"connecting\");\n      await localWallet.connect();\n      setConnectedWallet(localWallet);\n      props.onConnect();\n    } catch (e) {\n      setIsWrongPassword(true);\n    }\n    setIsConnecting(false);\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: meta.name\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      expand: true,\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        size: \"lg\",\n        color: \"primaryText\",\n        children: \"Connect to saved wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Label, {\n        children: \"Saved Wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"sm\"\n      }), /*#__PURE__*/jsx(Text, {\n        children: savedAddress === \"\" ? \"Loading...\" : shortenAddress(savedAddress)\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleReconnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: savedAddress,\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          required: true,\n          name: \"current-password\",\n          autocomplete: \"current-password\",\n          id: \"current-password\",\n          onChange: value => {\n            setPassword(value);\n            setIsWrongPassword(false);\n          },\n          right: {\n            onClick: () => setShowPassword(!showPassword),\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          error: isWrongPassword ? \"Wrong Password\" : \"\",\n          dataTest: \"current-password\",\n          placeholder: \"Enter your password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            display: \"flex\",\n            gap: spacing.sm\n          },\n          children: [\"Continue\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"sm\"\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(Button, {\n        variant: \"link\",\n        fullWidth: true,\n        style: {\n          textAlign: \"center\"\n        },\n        onClick: () => {\n          setShowBackupConfirmation(true);\n        },\n        children: \"Create a new wallet\"\n      })\n    })]\n  });\n};\nconst LocalWalletConnectUI = props => {\n  const {\n    walletData\n  } = useLocalWalletInfo(props.walletConfig, props.persist);\n  if (!props.persist) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Guest, {\n      persist: props.persist,\n      localWallet: props.walletConfig,\n      goBack: props.goBack,\n      onConnect: props.connected\n    });\n  }\n  if (walletData === \"loading\") {\n    return /*#__PURE__*/jsx(Container, {\n      flex: \"row\",\n      center: \"both\",\n      style: {\n        height: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        size: \"xl\",\n        color: \"accentText\"\n      })\n    });\n  }\n  if (walletData) {\n    return /*#__PURE__*/jsx(ReconnectLocalWallet, {\n      modalSize: props.modalSize,\n      renderBackButton: props.supportedWallets.length > 1,\n      supportedWallets: props.supportedWallets,\n      onConnect: props.connected,\n      goBack: props.goBack,\n      localWallet: props.walletConfig,\n      persist: props.persist\n    });\n  }\n  return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n    goBack: props.goBack,\n    localWalletConf: props.walletConfig,\n    onConnect: props.connected,\n    renderBackButton: props.supportedWallets.length > 1,\n    persist: props.persist\n  });\n};\nconst desktopIcon = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xXzY0KSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV82NCkiPgo8cGF0aCBkPSJNNTguNzUgMTkuMTY2N0gyMS4yNUMxOC45NTgzIDE5LjE2NjcgMTcuMDgzMyAyMS4wNDE3IDE3LjA4MzMgMjMuMzMzNFY0OC4zMzM0QzE3LjA4MzMgNTAuNjI1IDE4Ljk1ODMgNTIuNSAyMS4yNSA1Mi41SDM1LjgzMzNMMzEuNjY2NyA1OC43NVY2MC44MzM0SDQ4LjMzMzNWNTguNzVMNDQuMTY2NyA1Mi41SDU4Ljc1QzYxLjA0MTcgNTIuNSA2Mi45MTY3IDUwLjYyNSA2Mi45MTY3IDQ4LjMzMzRWMjMuMzMzNEM2Mi45MTY3IDIxLjA0MTcgNjEuMDQxNyAxOS4xNjY3IDU4Ljc1IDE5LjE2NjdaTTU4Ljc1IDQ0LjE2NjdIMjEuMjVWMjMuMzMzNEg1OC43NVY0NC4xNjY3WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzFfNjQiIHgxPSI0MCIgeTE9IjAiIHgyPSI0MCIgeTI9IjgwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDRTExQUIiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOTAwQkI1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV82NCI+CjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1IDE1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=\";\nconst phoneIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl80NF8yKSIvPgo8cGF0aCBkPSJNNDguNjE1NCAxNkgzMS4zODQ2QzI4LjQxMjMgMTYgMjYgMTguMzkyNyAyNiAyMS4zNDA5VjU3LjY1OTFDMjYgNjAuNjA3MyAyOC40MTIzIDYzIDMxLjM4NDYgNjNINDguNjE1NEM1MS41ODc3IDYzIDU0IDYwLjYwNzMgNTQgNTcuNjU5MVYyMS4zNDA5QzU0IDE4LjM5MjcgNTEuNTg3NyAxNiA0OC42MTU0IDE2Wk00MCA2MC44NjM2QzM4LjIxMjMgNjAuODYzNiAzNi43NjkyIDU5LjQzMjMgMzYuNzY5MiA1Ny42NTkxQzM2Ljc2OTIgNTUuODg1OSAzOC4yMTIzIDU0LjQ1NDUgNDAgNTQuNDU0NUM0MS43ODc3IDU0LjQ1NDUgNDMuMjMwOCA1NS44ODU5IDQzLjIzMDggNTcuNjU5MUM0My4yMzA4IDU5LjQzMjMgNDEuNzg3NyA2MC44NjM2IDQwIDYwLjg2MzZaTTQ5LjY5MjMgNTIuMzE4MkgzMC4zMDc3VjIyLjQwOTFINDkuNjkyM1Y1Mi4zMTgyWiIgZmlsbD0id2hpdGUiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl80NF8yIiB4MT0iNDAiIHkxPSIwIiB4Mj0iNDAiIHkyPSI4MCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjQ0UxMUFCIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkwMEJCNSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=`;\nconst localWallet = config => {\n  return {\n    id: LocalWallet.id,\n    isHeadless: true,\n    meta: {\n      ...LocalWallet.meta,\n      name: \"Guest Wallet\",\n      iconURL: isMobile() ? phoneIcon : desktopIcon\n    },\n    create: options => new LocalWallet(options),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(LocalWalletConnectUI, {\n        ...props,\n        persist: config && config.persist !== undefined ? config.persist : true\n      });\n    }\n  };\n};\nconst SmartWalletConnecting = props => {\n  const activeWallet = useWallet(); // personal wallet\n\n  const connect = useConnect();\n  const connectedChain = useChain();\n  const targetChain = useWalletContext().activeChain;\n  const mismatch = useNetworkMismatch();\n  const [connectError, setConnectError] = useState(false);\n  const [switchError, setSwitchError] = useState(false);\n  const [switchingNetwork, setSwitchingNetwork] = useState(false);\n  const connectionStatus = useConnectionStatus();\n  const {\n    onConnect\n  } = props;\n  const connectStarted = useRef(false);\n  const switchChain = useSwitchChain();\n  const modalSize = useContext(ModalConfigCtx).modalSize;\n  const handleConnect = useCallback(async () => {\n    if (!activeWallet || !connectedChain || connectStarted.current) {\n      return;\n    }\n    setConnectError(false);\n    try {\n      connectStarted.current = true;\n      await connect(props.smartWallet, {\n        personalWallet: activeWallet\n      });\n      onConnect();\n    } catch (e) {\n      console.error(e);\n      setConnectError(true);\n    }\n  }, [activeWallet, connectedChain, connect, props.smartWallet, onConnect]);\n  useEffect(() => {\n    if (!mismatch) {\n      handleConnect();\n    }\n  }, [mismatch, handleConnect, activeWallet, connectedChain]);\n  if (!connectError && (connectionStatus === \"connecting\" || !mismatch)) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      flex: \"column\",\n      center: \"both\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        color: \"accentText\",\n        size: \"xl\"\n      })\n    });\n  }\n  if (connectError) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      animate: \"fadein\",\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Text, {\n        color: \"danger\",\n        children: \"Failed to connect to Smart Wallet\"\n      })\n    });\n  }\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    animate: \"fadein\",\n    flex: \"column\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: props.personalWallet.meta.name,\n        imgSrc: props.personalWallet.meta.iconURL,\n        onBack: props.onBack\n      })\n    }), modalSize === \"compact\" && /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      children: /*#__PURE__*/jsxs(Container, {\n        p: modalSize === \"wide\" ? \"lg\" : undefined,\n        children: [/*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          center: \"x\",\n          color: \"danger\",\n          children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          })\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsx(Text, {\n          size: \"lg\",\n          color: \"primaryText\",\n          center: true,\n          weight: 500,\n          children: \"Wrong Network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(Text, {\n          multiline: true,\n          center: true,\n          children: \"Your wallet is not connected to the required network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsxs(Container, {\n          flex: \"column\",\n          gap: \"md\",\n          children: [/*#__PURE__*/jsxs(Button, {\n            type: \"button\",\n            fullWidth: true,\n            variant: \"accent\",\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: spacing.sm\n            },\n            onClick: async () => {\n              if (!activeWallet) {\n                throw new Error(\"No active wallet\");\n              }\n              setConnectError(false);\n              setSwitchError(false);\n              setSwitchingNetwork(true);\n              try {\n                await switchChain(targetChain.chainId);\n              } catch (e) {\n                setSwitchError(true);\n              } finally {\n                setSwitchingNetwork(false);\n              }\n            },\n            children: [\" \", switchingNetwork ? \"Switching\" : \"Switch Network\", switchingNetwork && /*#__PURE__*/jsx(Spinner, {\n              size: \"sm\",\n              color: \"accentButtonText\"\n            })]\n          }), /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            gap: \"sm\",\n            center: \"both\",\n            color: \"danger\",\n            style: {\n              textAlign: \"center\",\n              fontSize: fontSize.sm,\n              opacity: switchError ? 1 : 0,\n              transition: \"opacity 200ms ease\"\n            },\n            children: [/*#__PURE__*/jsx(ExclamationTriangleIcon, {\n              width: iconSize.sm,\n              height: iconSize.sm\n            }), /*#__PURE__*/jsx(\"span\", {\n              children: \"Failed to switch network\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst smartWallet = (wallet, config) => {\n  const WalletSelectUI = wallet.selectUI;\n  return {\n    ...wallet,\n    create: options => new SmartWallet({\n      ...options,\n      ...config\n    }),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(SmartConnectUI, {\n        ...props,\n        personalWallet: wallet\n      });\n    },\n    selectUI: WalletSelectUI ? props => {\n      return /*#__PURE__*/jsx(WalletSelectUI, {\n        ...props,\n        walletConfig: wallet\n      });\n    } : undefined,\n    personalWallets: [wallet]\n  };\n};\nconst SmartConnectUI = props => {\n  const activeWallet = useWallet();\n  const {\n    walletConfig\n  } = props;\n  const PersonalWalletConfig = props.personalWallet;\n  if (!activeWallet) {\n    const _props = {\n      ...props,\n      walletConfig: PersonalWalletConfig,\n      connected: () => {\n        // override to no-op\n      }\n    };\n    if (PersonalWalletConfig.connectUI) {\n      return /*#__PURE__*/jsx(PersonalWalletConfig.connectUI, {\n        ..._props\n      });\n    }\n    return /*#__PURE__*/jsx(HeadlessConnectUI, {\n      ..._props\n    });\n  }\n  return /*#__PURE__*/jsx(SmartWalletConnecting, {\n    onBack: props.goBack,\n    onConnect: props.connected,\n    smartWallet: walletConfig,\n    personalWallet: props.personalWallet\n  });\n};\nvar smartWallet$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  smartWallet: smartWallet,\n  SmartConnectUI: SmartConnectUI\n});\nconst OKXScan = _ref => {\n  let {\n    onBack,\n    onConnected,\n    onGetStarted,\n    walletConfig,\n    hideBackButton\n  } = _ref;\n  const createInstance = useCreateWalletInstance();\n  const [qrCodeUri, setQrCodeUri] = useState();\n  const {\n    setConnectedWallet,\n    chainToConnect,\n    setConnectionStatus\n  } = useWalletContext();\n  const scanStarted = useRef(false);\n  useEffect(() => {\n    if (scanStarted.current) {\n      return;\n    }\n    scanStarted.current = true;\n    const wallet = createInstance(walletConfig);\n    setConnectionStatus(\"connecting\");\n    wallet.connectWithQrCode({\n      chainId: chainToConnect?.chainId,\n      onQrCodeUri(uri) {\n        setQrCodeUri(uri);\n      },\n      onConnected() {\n        setConnectedWallet(wallet);\n        onConnected();\n      }\n    });\n  }, [createInstance, setConnectedWallet, chainToConnect, onConnected, walletConfig, setConnectionStatus]);\n  return /*#__PURE__*/jsx(ScanScreen, {\n    onBack: onBack,\n    onGetStarted: onGetStarted,\n    qrCodeUri: qrCodeUri,\n    walletName: walletConfig.meta.name,\n    walletIconURL: walletConfig.meta.iconURL,\n    hideBackButton: hideBackButton\n  });\n};\nconst OKXConnectUI = props => {\n  const [screen, setScreen] = useState(\"connecting\");\n  const {\n    walletConfig,\n    connected\n  } = props;\n  const connect = useConnect();\n  const [errorConnecting, setErrorConnecting] = useState(false);\n  const hideBackButton = props.supportedWallets.length === 1;\n  const connectToExtension = useCallback(async () => {\n    try {\n      connectPrompted.current = true;\n      setErrorConnecting(false);\n      setScreen(\"connecting\");\n      await wait(1000);\n      await connect(walletConfig);\n      connected();\n    } catch (e) {\n      setErrorConnecting(true);\n      console.error(e);\n    }\n  }, [connected, connect, walletConfig]);\n  const connectPrompted = useRef(false);\n  useEffect(() => {\n    if (connectPrompted.current) {\n      return;\n    }\n    const isInstalled = walletConfig.isInstalled ? walletConfig.isInstalled() : false;\n\n    // if loading\n    (async () => {\n      if (isInstalled) {\n        connectToExtension();\n      }\n\n      // if wallet is not injected\n      else {\n        // on mobile, deep link to the okx app\n        if (isMobile()) {\n          window.open(`okx://wallet/dapp/details?dappUrl=${window.location.toString()}`);\n        } else {\n          // on desktop, show the OKX scan qr code\n          setScreen(\"scanning\");\n        }\n      }\n    })();\n  }, [connectToExtension, walletConfig]);\n  if (screen === \"connecting\") {\n    return /*#__PURE__*/jsx(ConnectingScreen, {\n      errorConnecting: errorConnecting,\n      onGetStarted: () => {\n        setScreen(\"get-started\");\n      },\n      onRetry: connectToExtension,\n      hideBackButton: hideBackButton,\n      onBack: props.goBack,\n      walletName: walletConfig.meta.name,\n      walletIconURL: walletConfig.meta.iconURL\n    });\n  }\n  if (screen === \"get-started\") {\n    return /*#__PURE__*/jsx(GetStartedScreen, {\n      walletIconURL: walletConfig.meta.iconURL,\n      walletName: walletConfig.meta.name,\n      chromeExtensionLink: walletConfig.meta.urls?.chrome,\n      googlePlayStoreLink: walletConfig.meta.urls?.android,\n      appleStoreLink: walletConfig.meta.urls?.ios,\n      onBack: props.goBack\n    });\n  }\n  if (screen === \"scanning\") {\n    return /*#__PURE__*/jsx(OKXScan, {\n      onBack: props.goBack,\n      onConnected: props.connected,\n      onGetStarted: () => {\n        setScreen(\"get-started\");\n      },\n      hideBackButton: hideBackButton,\n      walletConfig: walletConfig\n    });\n  }\n  return null;\n};\nconst okxWallet = options => {\n  return {\n    id: OKXWallet.id,\n    recommended: options?.recommended,\n    meta: {\n      name: \"OKX Wallet\",\n      urls: {\n        chrome: \"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge\",\n        android: \"https://play.google.com/store/apps/details?id=com.okinc.okex.gp&pli=1\",\n        ios: \"https://apps.apple.com/us/app/okx-buy-bitcoin-eth-crypto/id1327268470\"\n      },\n      iconURL: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik00Ni4wMjg0IDMyLjk2NjhIMzMuMDE5OUMzMi40Njc3IDMyLjk2NjggMzIuMDE1IDMzLjQxOTUgMzIuMDE1IDMzLjk3MTZWNDYuOTgwMUMzMi4wMTUgNDcuNTMyMyAzMi40Njc3IDQ3Ljk4NSAzMy4wMTk5IDQ3Ljk4NUg0Ni4wMjg0QzQ2LjU4MDUgNDcuOTg1IDQ3LjAzMzIgNDcuNTMyMyA0Ny4wMzMyIDQ2Ljk4MDFWMzMuOTcxNkM0Ny4wMzMyIDMzLjQxOTUgNDYuNTgwNSAzMi45NjY4IDQ2LjAyODQgMzIuOTY2OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMS4wMTMzIDE4SDE4LjAwNDlDMTcuNDUyNyAxOCAxNyAxOC40NTI3IDE3IDE5LjAwNDlWMzIuMDEzM0MxNyAzMi41NjU1IDE3LjQ1MjcgMzMuMDE4MiAxOC4wMDQ5IDMzLjAxODJIMzEuMDEzM0MzMS41NjU1IDMzLjAxODIgMzIuMDE4MiAzMi41NjU1IDMyLjAxODIgMzIuMDEzM1YxOS4wMDQ5QzMyLjAxNSAxOC40NTI3IDMxLjU2NTUgMTggMzEuMDEzMyAxOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MC45OTUyIDE4SDQ3Ljk4NjdDNDcuNDM0NSAxOCA0Ni45ODE4IDE4LjQ1MjcgNDYuOTgxOCAxOS4wMDQ5VjMyLjAxMzNDNDYuOTgxOCAzMi41NjU1IDQ3LjQzNDUgMzMuMDE4MiA0Ny45ODY3IDMzLjAxODJINjAuOTk1MkM2MS41NDczIDMzLjAxODIgNjIgMzIuNTY1NSA2MiAzMi4wMTMzVjE5LjAwNDlDNjIgMTguNDUyNyA2MS41NDczIDE4IDYwLjk5NTIgMThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzEuMDEzMyA0Ny45MzM3SDE4LjAwNDlDMTcuNDUyNyA0Ny45MzM3IDE3IDQ4LjM4NjQgMTcgNDguOTM4NlY2MS45NDcxQzE3IDYyLjQ5OTIgMTcuNDUyNyA2Mi45NTE5IDE4LjAwNDkgNjIuOTUxOUgzMS4wMTMzQzMxLjU2NTUgNjIuOTUxOSAzMi4wMTgyIDYyLjQ5OTIgMzIuMDE4MiA2MS45NDcxVjQ4LjkzODZDMzIuMDE1IDQ4LjM4NjQgMzEuNTY1NSA0Ny45MzM3IDMxLjAxMzMgNDcuOTMzN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MC45OTUyIDQ3LjkzMzdINDcuOTg2N0M0Ny40MzQ1IDQ3LjkzMzcgNDYuOTgxOCA0OC4zODY0IDQ2Ljk4MTggNDguOTM4NlY2MS45NDcxQzQ2Ljk4MTggNjIuNDk5MiA0Ny40MzQ1IDYyLjk1MTkgNDcuOTg2NyA2Mi45NTE5SDYwLjk5NTJDNjEuNTQ3MyA2Mi45NTE5IDYyIDYyLjQ5OTIgNjIgNjEuOTQ3MVY0OC45Mzg2QzYyIDQ4LjM4NjQgNjEuNTQ3MyA0Ny45MzM3IDYwLjk5NTIgNDcuOTMzN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=\"\n    },\n    create: walletOptions => {\n      const wallet = new OKXWallet({\n        ...walletOptions,\n        projectId: options?.projectId,\n        qrcode: false\n      });\n      return wallet;\n    },\n    connectUI: OKXConnectUI,\n    isInstalled() {\n      return !!getInjectedOKXProvider();\n    }\n  };\n};\nexport { embeddedWallet, localWallet, okxWallet, smartWallet, useSmartWallet };","map":{"version":3,"names":["E","ExportLocalWallet","s","shortenAddress","a","ConnectModalInline","C","ConnectWallet","M","MediaRenderer","N","NetworkSelector","n","ThirdwebNftMedia","T","ThirdwebProvider","W","Web3Button","d","defaultTokens","h","useBloctoWallet","f","useCoinbaseWallet","g","useFrameWallet","u","useInstalledWallets","e","useMetamask","j","usePaperWallet","i","usePaperWalletUserEmail","b","useRainbowWallet","m","useResolvedMediaType","c","useTrustWallet","k","useWalletConnect","l","useWalletConnectV1","F","FormFieldWithIconButton","w","wait","H","HeadlessConnectUI","S","ScanScreen","ConnectingScreen","G","GetStartedScreen","coinbaseWallet","defaultWallets","metamaskWallet","p","phantomWallet","r","rainbowWallet","t","trustWallet","walletConnect","z","zerionWallet","useConnect","useCreateWalletInstance","useSetConnectionStatus","useSetConnectedWallet","useConnectionStatus","useWalletContext","useWallet","useChain","useNetworkMismatch","useSwitchChain","useCallback","useEffect","useState","useRef","useContext","bloctoWallet","EmbeddedWallet","LocalWallet","SmartWallet","OKXWallet","getInjectedOKXProvider","BloctoWallet","CoinbaseWallet","FrameWallet","InjectedWallet","MagicLink","MetaMaskWallet","PaperWallet","PhantomWallet","RainbowWallet","SafeWallet","SignerWallet","TrustWallet","WalletConnect","ZerionWallet","setWalletAnalyticsEnabled","emailIcon","useScreenContext","B","Button","spacing","iconSize","TextDivider","Container","ModalHeader","Spacer","ModalTitle","Text","Spinner","fadeInAnimation","fontSize","L","Line","reservedScreens","WalletEntryButton","radius","isMobile","ModalDescription","ModalConfigCtx","Label","darkTheme","lightTheme","useIsWalletModalOpen","useSetIsWalletModalOpen","styled","GoogleIcon","o","openGoogleSignInWindow","O","OTPInput","paperWallet","I","InputSelectionUI","useTheme","jsxs","jsx","Fragment","frameWallet","UploadIcon","EyeClosedIcon","EyeOpenIcon","ExclamationTriangleIcon","magicLink","safeWallet","walletConnectV1","useSafe","useMagic","useSmartWallet","connect","wallet","options","smartWallet","Promise","resolve","then","smartWallet$1","EmbeddedWalletFormUI","props","createWalletInstance","setConnectionStatus","setConnectedWallet","themeObj","googleLogin","embeddedWallet","walletConfig","googleWindow","Error","loginType","openedWindow","closeOpenedWindow","close","console","error","children","SocialButton","variant","fullWidth","onClick","onSelect","google","size","md","text","py","email","placeholder","name","type","errorMessage","_input","input","replace","emailRegex","isValidEmail","test","emptyErrorMessage","EmbeddedWalletFormUIScreen","isCompact","modalSize","fullHeight","flex","animate","style","minHeight","onBack","title","y","expand","center","undefined","sm","EmbeddedWalletGoogleLogin","goBack","connectionStatus","connected","closeModal","paddingBottom","gap","textAlign","color","multiline","maxWidth","FadeIn","div","EmbeddedWalletOTPLoginUI","selectionData","otpInput","setOtpInput","setWallet","isWideModal","verifyStatus","setVerifyStatus","sendEmailOtpStatus","setSendEmailOtpStatus","sendEmail","_wallet","_embeddedWalletSdk","getEmbeddedWalletSDK","auth","sendEmailLoginOtp","handleSubmit","otp","length","verifyCodes","emailSentOnMount","current","onSubmit","preventDefault","isInvalid","digits","value","setValue","onEnter","px","width","LinkButton","button","theme","colors","accentText","primaryText","config","category","isHeadless","id","recommended","meta","iconURL","create","clientId","selectUI","EmbeddedWalletSelectionUI","connectUI","EmbeddedWalletConnectUI","screen","main","selectWallet","setLoginType","handleBack","_loginType","useLocalWalletInfo","localWalletConfig","persist","walletData","setWalletData","localWallet","setLocalWallet","getSavedData","data","DragNDrop","setError","uploaded","setUploaded","isDragging","setIsDragging","dragIn","stopPropagation","dragOut","handleFileUpload","file","accept","onUpload","drop","dataTransfer","files","fileContent","clearData","message","onDragEnter","onDragLeave","onDragOver","onDrop","cursor","htmlFor","multiple","display","onChange","target","DropContainer","UploadIconSecondary","lg","height","weight","extension","CheckCircleIcon","xl","secondaryIconColor","borderColor","danger","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ImportLocalWallet","jsonString","setJsonString","localWalletConf","password","setPassword","isWrongPassword","setIsWrongPassword","showPassword","setShowPassword","importedAddress","setImportedAddress","handleImport","import","encryptedJson","save","strategy","onConnect","reader","FileReader","onload","event","result","obj","JSON","parse","address","readAsText","autoComplete","disabled","required","noSave","autocomplete","right","icon","label","justifyContent","minWidth","opacity","CreateLocalWallet_Password","confirmPassword","setConfirmPassword","passwordMismatch","isConnecting","setIsConnecting","showImportScreen","setShowImportScreen","generatedAddress","setGeneratedAddress","ethersWallet","generate","_address","handleConnect","renderBackButton","dataTest","noErrorShift","xs","alignItems","CreateLocalWallet_Guest","connecting","OverrideConfirmation","onBackup","ReconnectLocalWallet","showCreate","setShowCreate","showBackupConfirmation","setShowBackupConfirmation","showExport","setShowExport","savedAddress","onExport","supportedWallets","handleReconnect","load","LocalWalletConnectUI","desktopIcon","phoneIcon","SmartWalletConnecting","activeWallet","connectedChain","targetChain","activeChain","mismatch","connectError","setConnectError","switchError","setSwitchError","switchingNetwork","setSwitchingNetwork","connectStarted","switchChain","personalWallet","imgSrc","chainId","transition","WalletSelectUI","SmartConnectUI","personalWallets","PersonalWalletConfig","_props","Object","freeze","__proto__","OKXScan","_ref","onConnected","onGetStarted","hideBackButton","createInstance","qrCodeUri","setQrCodeUri","chainToConnect","scanStarted","connectWithQrCode","onQrCodeUri","uri","walletName","walletIconURL","OKXConnectUI","setScreen","errorConnecting","setErrorConnecting","connectToExtension","connectPrompted","isInstalled","window","open","location","toString","onRetry","chromeExtensionLink","urls","chrome","googlePlayStoreLink","android","appleStoreLink","ios","okxWallet","walletOptions","projectId","qrcode"],"sources":["C:/Users/SUMAN K/meta_transfer/node_modules/@thirdweb-dev/react/dist/thirdweb-dev-react.browser.esm.js"],"sourcesContent":["import { E as ExportLocalWallet, s as shortenAddress } from './useWalletConnect-ab184ca8.browser.esm.js';\nexport { a as ConnectModalInline, C as ConnectWallet, M as MediaRenderer, N as NetworkSelector, n as ThirdwebNftMedia, T as ThirdwebProvider, W as Web3Button, d as defaultTokens, h as useBloctoWallet, f as useCoinbaseWallet, g as useFrameWallet, u as useInstalledWallets, e as useMetamask, j as usePaperWallet, i as usePaperWalletUserEmail, b as useRainbowWallet, m as useResolvedMediaType, c as useTrustWallet, k as useWalletConnect, l as useWalletConnectV1 } from './useWalletConnect-ab184ca8.browser.esm.js';\nimport { F as FormFieldWithIconButton, w as wait, H as HeadlessConnectUI, S as ScanScreen, C as ConnectingScreen, G as GetStartedScreen } from './safeChainSlug-b497b340.browser.esm.js';\nexport { c as coinbaseWallet, d as defaultWallets, m as metamaskWallet, p as phantomWallet, r as rainbowWallet, t as trustWallet, a as walletConnect, z as zerionWallet } from './safeChainSlug-b497b340.browser.esm.js';\nimport { useConnect, useCreateWalletInstance, useSetConnectionStatus, useSetConnectedWallet, useConnectionStatus, useWalletContext, useWallet, useChain, useNetworkMismatch, useSwitchChain } from '@thirdweb-dev/react-core';\nexport * from '@thirdweb-dev/react-core';\nimport { useCallback, useEffect, useState, useRef, useContext } from 'react';\nexport { bloctoWallet } from './bloctoWallet-41e93ea8.browser.esm.js';\nimport { EmbeddedWallet, LocalWallet, SmartWallet, OKXWallet, getInjectedOKXProvider } from '@thirdweb-dev/wallets';\nexport { BloctoWallet, CoinbaseWallet, EmbeddedWallet, FrameWallet, InjectedWallet, LocalWallet, MagicLink, MetaMaskWallet, OKXWallet, PaperWallet, PhantomWallet, RainbowWallet, SafeWallet, SignerWallet, SmartWallet, TrustWallet, WalletConnect, ZerionWallet, setWalletAnalyticsEnabled } from '@thirdweb-dev/wallets';\nimport { e as emailIcon, u as useScreenContext } from './Tooltip-45fca288.browser.esm.js';\nimport { B as Button, s as spacing, i as iconSize, T as TextDivider, C as Container, M as ModalHeader, S as Spacer, a as ModalTitle, b as Text, c as Spinner, f as fadeInAnimation, d as fontSize, L as Line, r as reservedScreens, W as WalletEntryButton, e as radius, g as isMobile, h as ModalDescription, j as ModalConfigCtx, k as Label } from './formElements-33f68cb9.browser.esm.js';\nexport { l as darkTheme, m as lightTheme, u as useIsWalletModalOpen, n as useSetIsWalletModalOpen } from './formElements-33f68cb9.browser.esm.js';\nimport styled from '@emotion/styled';\nimport { G as GoogleIcon, o as openGoogleSignInWindow, O as OTPInput } from './paperWallet-cec67362.browser.esm.js';\nexport { p as paperWallet } from './paperWallet-cec67362.browser.esm.js';\nimport { I as InputSelectionUI } from './InputSelectionUI-de582cbe.browser.esm.js';\nimport { useTheme } from '@emotion/react';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nexport { frameWallet } from './frameWallet-7d2db702.browser.esm.js';\nimport { UploadIcon, EyeClosedIcon, EyeOpenIcon, ExclamationTriangleIcon } from '@radix-ui/react-icons';\nexport { magicLink } from './magicLink-950b0167.browser.esm.js';\nexport { safeWallet } from './safeWallet-7990fd4a.browser.esm.js';\nexport { walletConnectV1 } from './walletConnectV1-b3216193.browser.esm.js';\nexport { u as useSafe } from './useSafe-b22cb1d1.browser.esm.js';\nexport { u as useMagic } from './useMagic-7d945dce.browser.esm.js';\nimport '@tanstack/react-query';\nimport '@radix-ui/react-popover';\nimport 'copy-to-clipboard';\nimport 'ethers';\nimport '@radix-ui/react-tabs';\nimport 'fuse.js';\nimport '@radix-ui/react-dropdown-menu';\nimport '@thirdweb-dev/chains';\nimport '@thirdweb-dev/sdk';\nimport 'tiny-invariant';\nimport '@radix-ui/react-dialog';\nimport 'qrcode';\nimport '@radix-ui/react-tooltip';\nimport 'detect-browser';\nimport '@radix-ui/colors';\n\nfunction useSmartWallet() {\n  const connect = useConnect();\n  return useCallback(async (wallet, options) => {\n    const {\n      smartWallet\n    } = await Promise.resolve().then(function () { return smartWallet$1; });\n    return connect(smartWallet(wallet, options), options);\n  }, [connect]);\n}\n\nconst EmbeddedWalletFormUI = props => {\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const themeObj = useTheme();\n\n  // Need to trigger google login on button click to avoid popup from being blocked\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow(themeObj);\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(e);\n    }\n  };\n  return /*#__PURE__*/jsxs(\"div\", {\n    children: [/*#__PURE__*/jsxs(SocialButton, {\n      variant: \"secondary\",\n      fullWidth: true,\n      onClick: () => {\n        googleLogin();\n        props.onSelect({\n          google: true\n        });\n      },\n      children: [/*#__PURE__*/jsx(GoogleIcon, {\n        size: iconSize.md\n      }), \"Sign in with Google\"]\n    }), /*#__PURE__*/jsx(TextDivider, {\n      text: \"OR\",\n      py: \"lg\"\n    }), /*#__PURE__*/jsx(InputSelectionUI, {\n      onSelect: email => props.onSelect({\n        email\n      }),\n      placeholder: \"Enter your email address\",\n      name: \"email\",\n      type: \"email\",\n      errorMessage: _input => {\n        const input = _input.replace(/\\+/g, \"\");\n        const emailRegex = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,})$/g;\n        const isValidEmail = emailRegex.test(input);\n        if (!isValidEmail) {\n          return \"Invalid email address\";\n        }\n      },\n      emptyErrorMessage: \"email address is required\"\n    })]\n  });\n};\nconst EmbeddedWalletFormUIScreen = props => {\n  const isCompact = props.modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    p: \"lg\",\n    animate: \"fadein\",\n    style: {\n      minHeight: \"250px\"\n    },\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Sign in\"\n    }), isCompact ? /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }) : null, /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      p: isCompact ? undefined : \"lg\",\n      children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n        walletConfig: props.walletConfig,\n        onSelect: props.onSelect\n      })\n    })]\n  });\n};\nconst SocialButton = styled(Button)`\n  display: flex;\n  justify-content: center;\n  gap: ${spacing.sm};\n`;\n\nconst EmbeddedWalletGoogleLogin = props => {\n  const {\n    goBack,\n    modalSize\n  } = props;\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const connectionStatus = useConnectionStatus();\n  const themeObj = useTheme();\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow(themeObj);\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n      props.connected();\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(\"Error logging into google\", e);\n    }\n  };\n  const closeModal = props.connected;\n  useEffect(() => {\n    if (connectionStatus === \"connected\") {\n      closeModal();\n    }\n  }, [connectionStatus, closeModal]);\n  return /*#__PURE__*/jsx(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: /*#__PURE__*/jsxs(Container, {\n      flex: \"column\",\n      expand: true,\n      p: \"lg\",\n      style: {\n        paddingBottom: 0\n      },\n      children: [/*#__PURE__*/jsx(ModalHeader, {\n        title: /*#__PURE__*/jsxs(Container, {\n          flex: \"row\",\n          center: \"both\",\n          gap: \"xs\",\n          children: [/*#__PURE__*/jsx(GoogleIcon, {\n            size: iconSize.md\n          }), /*#__PURE__*/jsx(ModalTitle, {\n            children: \" Sign in \"\n          })]\n        }),\n        onBack: goBack\n      }), modalSize === \"compact\" ? /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }) : null, /*#__PURE__*/jsxs(Container, {\n        flex: \"column\",\n        center: \"both\",\n        expand: true,\n        style: {\n          textAlign: \"center\",\n          minHeight: \"250px\"\n        },\n        children: [connectionStatus === \"connecting\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            multiline: true,\n            style: {\n              maxWidth: \"250px\"\n            },\n            children: \"Select your Google account in the pop-up\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Container, {\n            center: \"x\",\n            flex: \"row\",\n            children: /*#__PURE__*/jsx(Spinner, {\n              size: \"lg\",\n              color: \"accentText\"\n            })\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), connectionStatus === \"disconnected\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"danger\",\n            children: \"Failed to sign in\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), /*#__PURE__*/jsxs(Button, {\n            variant: \"primary\",\n            onClick: googleLogin,\n            children: [\" \", \"Retry\", \" \"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nconst FadeIn = styled.div`\n  animation: ${fadeInAnimation} 0.15s ease-in;\n`;\n\nconst EmbeddedWalletOTPLoginUI = props => {\n  const email = props.selectionData;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const {\n    createWalletInstance,\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [wallet, setWallet] = useState(null);\n  const isWideModal = props.modalSize === \"wide\";\n  const [verifyStatus, setVerifyStatus] = useState(\"idle\");\n  const [sendEmailOtpStatus, setSendEmailOtpStatus] = useState(\"sending\");\n  const sendEmail = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setSendEmailOtpStatus(\"sending\");\n    try {\n      const _wallet = createWalletInstance(props.walletConfig);\n      setWallet(_wallet);\n      const _embeddedWalletSdk = await _wallet.getEmbeddedWalletSDK();\n      await _embeddedWalletSdk.auth.sendEmailLoginOtp({\n        email: email\n      });\n      setSendEmailOtpStatus(\"sent\");\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setSendEmailOtpStatus(\"error\");\n    }\n  }, [createWalletInstance, email, props.walletConfig]);\n  const handleSubmit = otp => {\n    if (sendEmailOtpStatus !== \"sent\" || otp.length !== 6) {\n      return;\n    }\n    verifyCodes(otp);\n  };\n  const verifyCodes = async otp => {\n    setVerifyStatus(\"idle\");\n    if (!wallet) {\n      return;\n    }\n    try {\n      setVerifyStatus(\"verifying\");\n      setConnectionStatus(\"connecting\");\n      await wallet.connect({\n        loginType: \"headless_email_otp_verification\",\n        email,\n        otp\n      });\n      setConnectedWallet(wallet);\n      setVerifyStatus(\"valid\");\n      props.connected();\n    } catch (e) {\n      setVerifyStatus(\"invalid\");\n      console.error(e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmail();\n    }\n  }, [sendEmail]);\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: \"Sign in\",\n        onBack: props.goBack\n      })\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      children: /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/jsxs(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [!isWideModal && /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Text, {\n            children: \"Enter the verification code sent to\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"sm\"\n          }), /*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            children: email\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(OTPInput, {\n          isInvalid: verifyStatus === \"invalid\",\n          digits: 6,\n          value: otpInput,\n          setValue: value => {\n            setOtpInput(value);\n            setVerifyStatus(\"idle\"); // reset error\n            handleSubmit(value);\n          },\n          onEnter: () => {\n            handleSubmit(otpInput);\n          }\n        }), verifyStatus === \"invalid\" && /*#__PURE__*/jsxs(FadeIn, {\n          children: [/*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Text, {\n            size: \"sm\",\n            color: \"danger\",\n            center: true,\n            children: \"Invalid verification code\"\n          })]\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsx(Container, {\n          px: isWideModal ? \"xxl\" : \"lg\",\n          children: verifyStatus === \"verifying\" ? /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Container, {\n              flex: \"row\",\n              center: \"x\",\n              animate: \"fadein\",\n              children: /*#__PURE__*/jsx(Spinner, {\n                size: \"lg\",\n                color: \"accentText\"\n              })\n            })\n          }) : /*#__PURE__*/jsx(Container, {\n            animate: \"fadein\",\n            children: /*#__PURE__*/jsx(Button, {\n              onClick: () => handleSubmit(otpInput),\n              variant: \"accent\",\n              type: \"submit\",\n              style: {\n                width: \"100%\"\n              },\n              children: \"Verify\"\n            })\n          }, \"btn-container\")\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), !isWideModal && /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n          p: isWideModal ? undefined : \"lg\",\n          children: [sendEmailOtpStatus === \"error\" && /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              center: true,\n              color: \"danger\",\n              children: \"Failed to send verification code\"\n            })\n          }), sendEmailOtpStatus === \"sending\" && /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            center: \"both\",\n            gap: \"xs\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              children: \"Sending verification code\"\n            }), /*#__PURE__*/jsx(Spinner, {\n              size: \"xs\",\n              color: \"secondaryText\"\n            })]\n          }), sendEmailOtpStatus === \"sent\" && /*#__PURE__*/jsx(LinkButton, {\n            onClick: sendEmail,\n            type: \"button\",\n            children: \"Resend verification code\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst LinkButton = styled.button`\n  all: unset;\n  color: ${p => p.theme.colors.accentText};\n  font-size: ${fontSize.sm};\n  cursor: pointer;\n  text-align: center;\n  font-weight: 500;\n  width: 100%;\n  &:hover {\n    color: ${p => p.theme.colors.primaryText};\n  }\n`;\n\nconst embeddedWallet = config => {\n  return {\n    category: \"socialLogin\",\n    isHeadless: true,\n    id: EmbeddedWallet.id,\n    recommended: config?.recommended,\n    meta: {\n      ...EmbeddedWallet.meta,\n      name: \"Email\",\n      iconURL: emailIcon\n    },\n    create(options) {\n      return new EmbeddedWallet({\n        ...options,\n        ...config,\n        clientId: options?.clientId ?? \"\"\n      });\n    },\n    selectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletSelectionUI, {\n        ...props\n      });\n    },\n    connectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletConnectUI, {\n        ...props\n      });\n    }\n  };\n};\nconst EmbeddedWalletSelectionUI = props => {\n  const screen = useScreenContext();\n\n  // show the icon + text if\n  // wide -\n  // compact + not main screen (safe/smart wallet list screen)\n  if (props.modalSize === \"wide\" || screen !== reservedScreens.main && props.modalSize === \"compact\") {\n    return /*#__PURE__*/jsx(WalletEntryButton, {\n      walletConfig: props.walletConfig,\n      selectWallet: () => {\n        props.onSelect(undefined);\n      }\n    });\n  }\n  return /*#__PURE__*/jsx(\"div\", {\n    children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n      onSelect: props.onSelect,\n      walletConfig: props.walletConfig\n    })\n  });\n};\nconst EmbeddedWalletConnectUI = props => {\n  const [loginType, setLoginType] = useState(props.selectionData);\n  if (loginType) {\n    const handleBack = () => {\n      // go back to base screen\n      if (props.modalSize === \"wide\") {\n        setLoginType(undefined);\n      }\n\n      // go to main screen\n      else {\n        props.goBack();\n      }\n    };\n    if (\"email\" in loginType) {\n      return /*#__PURE__*/jsx(EmbeddedWalletOTPLoginUI, {\n        ...props,\n        selectionData: loginType.email,\n        goBack: handleBack\n      });\n    }\n\n    // google\n    else {\n      return /*#__PURE__*/jsx(EmbeddedWalletGoogleLogin, {\n        ...props,\n        goBack: handleBack\n      });\n    }\n  }\n  return /*#__PURE__*/jsx(EmbeddedWalletFormUIScreen, {\n    modalSize: props.modalSize,\n    onSelect: _loginType => {\n      setLoginType(_loginType);\n    },\n    walletConfig: props.walletConfig,\n    onBack: props.goBack\n  });\n};\n\nfunction useLocalWalletInfo(localWalletConfig, persist) {\n  const [walletData, setWalletData] = useState(\"loading\");\n  const createWalletInstance = useCreateWalletInstance();\n  const [localWallet, setLocalWallet] = useState(null);\n  useEffect(() => {\n    const wallet = createWalletInstance(localWalletConfig);\n    setLocalWallet(wallet);\n    if (persist) {\n      wallet.getSavedData().then(data => {\n        setWalletData(data);\n      });\n    }\n  }, [createWalletInstance, localWalletConfig, persist]);\n  return {\n    setLocalWallet,\n    localWallet,\n    walletData,\n    meta: localWalletConfig.meta,\n    persist: persist\n  };\n}\n\nconst DragNDrop = props => {\n  const [error, setError] = useState(false);\n  const [uploaded, setUploaded] = useState();\n  const [isDragging, setIsDragging] = useState(false);\n  const dragIn = e => {\n    setError(false);\n    setUploaded(undefined);\n    setIsDragging(true);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const dragOut = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleFileUpload = file => {\n    if (file.type !== props.accept) {\n      setError(true);\n    } else {\n      setUploaded(file);\n      props.onUpload(file);\n    }\n  };\n  const drop = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const fileContent = e.dataTransfer.files[0];\n      if (fileContent) {\n        handleFileUpload(fileContent);\n        e.dataTransfer.clearData();\n      }\n    }\n  };\n  const message = isMobile() ? \"Click to Upload\" : \"Drop your file here or click to upload\";\n  return /*#__PURE__*/jsx(\"div\", {\n    onDragEnter: dragIn,\n    onDragLeave: dragOut,\n    onDragOver: e => {\n      setIsDragging(true);\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    onClick: () => {\n      setError(false);\n    },\n    onDrop: drop,\n    style: {\n      cursor: \"pointer\"\n    },\n    children: /*#__PURE__*/jsxs(\"label\", {\n      htmlFor: \"file-upload\",\n      children: [/*#__PURE__*/jsx(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: props.accept,\n        multiple: false,\n        style: {\n          display: \"none\"\n        },\n        onChange: e => {\n          if (e.target.files && e.target.files[0]) {\n            handleFileUpload(e.target.files[0]);\n          }\n        }\n      }), /*#__PURE__*/jsx(DropContainer, {\n        \"data-error\": error,\n        \"data-is-dragging\": isDragging,\n        children: !uploaded ? /*#__PURE__*/jsxs(Fragment, {\n          children: [\" \", /*#__PURE__*/jsx(UploadIconSecondary, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsxs(Text, {\n            color: \"primaryText\",\n            weight: 600,\n            center: true,\n            multiline: true,\n            children: [\" \", message]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), error ? /*#__PURE__*/jsxs(Text, {\n            color: \"danger\",\n            size: \"sm\",\n            children: [\" \", \"Please upload a \", props.extension, \" file\", \" \"]\n          }) : /*#__PURE__*/jsxs(Text, {\n            size: \"sm\",\n            children: [\" \", props.extension, \" \"]\n          })]\n        }) : /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsxs(Text, {\n            weight: 600,\n            color: \"primaryText\",\n            center: true,\n            multiline: true,\n            children: [uploaded.name, \" uploaded successfully\"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Container, {\n            color: \"success\",\n            children: /*#__PURE__*/jsx(CheckCircleIcon, {\n              size: iconSize.xl\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\nconst UploadIconSecondary = styled(UploadIcon)`\n  color: ${props => props.theme.colors.secondaryIconColor};\n  transition:\n    transform 200ms ease,\n    color 200ms ease;\n`;\nconst DropContainer = styled.div`\n  border: 2px solid ${p => p.theme.colors.borderColor};\n  border-radius: ${radius.md};\n  padding: ${spacing.xl} ${spacing.md};\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  transition: border-color 200ms ease;\n\n  &:hover,\n  &[data-is-dragging=\"true\"] {\n    border-color: ${p => p.theme.colors.accentText};\n    svg {\n      color: ${p => p.theme.colors.accentText};\n    }\n  }\n\n  &[data-error=\"true\"] {\n    border-color: ${p => p.theme.colors.danger};\n  }\n`;\nconst CheckCircleIcon = props => /*#__PURE__*/jsxs(\"svg\", {\n  width: props.size,\n  height: props.size,\n  viewBox: \"0 0 38 38\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6666 17.4671V19.0004C35.6645 22.5945 34.5008 26.0916 32.3488 28.9701C30.1969 31.8487 27.1721 33.9546 23.7255 34.9736C20.279 35.9926 16.5954 35.8703 13.224 34.6247C9.85272 33.3792 6.97434 31.0773 5.01819 28.0622C3.06203 25.0472 2.1329 21.4805 2.36938 17.8943C2.60586 14.308 3.99526 10.8943 6.33039 8.16221C8.66551 5.43012 11.8212 3.52606 15.3269 2.734C18.8326 1.94194 22.5004 2.30432 25.7833 3.76709\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6667 5.66699L19 22.3503L14 17.3503\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n});\n\nconst ImportLocalWallet = props => {\n  const [jsonString, setJsonString] = useState();\n  const {\n    setLocalWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const createWalletInstance = useCreateWalletInstance();\n  const [password, setPassword] = useState(\"\");\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [importedAddress, setImportedAddress] = useState();\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const handleImport = async () => {\n    const localWallet = createWalletInstance(props.localWalletConf);\n    if (!localWallet || !jsonString) {\n      throw new Error(\"Invalid state\");\n    }\n    try {\n      await localWallet.import({\n        encryptedJson: jsonString,\n        password\n      });\n    } catch (e) {\n      console.error(e);\n      setIsWrongPassword(true);\n      return;\n    }\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setLocalWallet(localWallet);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.goBack,\n        title: \"Import Wallet\"\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(ModalDescription, {\n        children: \"The application can authorize any transactions on behalf of the wallet without any approvals\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xs\"\n      }), /*#__PURE__*/jsx(ModalDescription, {\n        children: \"We recommend only connecting to trusted applications\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(DragNDrop, {\n        extension: \"JSON\",\n        accept: \"application/json\",\n        onUpload: file => {\n          const reader = new FileReader();\n          reader.onload = event => {\n            setJsonString(event.target?.result);\n            const obj = JSON.parse(event.target?.result);\n            setImportedAddress(obj.address);\n          };\n          reader.readAsText(file, \"utf-8\");\n        }\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleImport();\n        },\n        children: [jsonString && /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            autoComplete: \"off\",\n            value: importedAddress || \"\",\n            disabled: true,\n            style: {\n              display: \"none\"\n            }\n          }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n            required: true,\n            noSave: true,\n            name: \"password\",\n            autocomplete: \"off\",\n            id: \"password\",\n            onChange: value => {\n              setPassword(value);\n              setIsWrongPassword(false);\n            },\n            right: {\n              onClick: () => setShowPassword(!showPassword),\n              icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n            },\n            label: \"Password\",\n            type: showPassword ? \"text\" : \"password\",\n            value: password,\n            error: isWrongPassword ? \"Wrong Password\" : \"\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          style: {\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/jsx(Button, {\n            variant: \"accent\",\n            type: \"submit\",\n            disabled: !jsonString,\n            style: {\n              minWidth: \"110px\",\n              opacity: jsonString ? 1 : 0.5\n            },\n            children: \"Import\"\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nconst CreateLocalWallet_Password = props => {\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const passwordMismatch = confirmPassword && password !== confirmPassword;\n  const [isConnecting, setIsConnecting] = useState(false);\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [showImportScreen, setShowImportScreen] = useState(false);\n  const [generatedAddress, setGeneratedAddress] = useState(null);\n\n  // generating wallet before it's required to render a form with hidden address as username for better autofill\n  useEffect(() => {\n    if (!localWallet || showImportScreen || localWallet.ethersWallet) {\n      return;\n    }\n    localWallet.generate().then(_address => {\n      setGeneratedAddress(_address);\n    });\n  }, [localWallet, showImportScreen]);\n  if (showImportScreen) {\n    return /*#__PURE__*/jsx(ImportLocalWallet, {\n      localWalletConf: props.localWalletConf,\n      onConnect: props.onConnect,\n      goBack: () => {\n        setShowImportScreen(false);\n      },\n      persist: props.persist\n    });\n  }\n  const handleConnect = async () => {\n    if (passwordMismatch || !localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setIsConnecting(false);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: props.localWalletConf.meta.name\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      expand: true,\n      p: \"lg\",\n      children: [/*#__PURE__*/jsxs(ModalDescription, {\n        children: [\"Choose a password for your wallet \", /*#__PURE__*/jsx(\"br\", {}), \" You\", `'`, \"ll be able to access and export this wallet with the same password\"]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleConnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: generatedAddress || \"\",\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"new-password\",\n          onChange: value => setPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          dataTest: \"new-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"confirm-password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"confirm-password\",\n          onChange: value => setConfirmPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Confirm Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: confirmPassword,\n          error: passwordMismatch ? \"Passwords don't match\" : \"\",\n          dataTest: \"confirm-password\",\n          noErrorShift: true\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          disabled: isConnecting,\n          fullWidth: true,\n          style: {\n            gap: spacing.xs,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          \"data-test\": \"create-new-wallet-button\",\n          children: [isConnecting ? \"Connecting\" : \"Create new wallet\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"sm\"\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(Button, {\n        fullWidth: true,\n        variant: \"link\",\n        onClick: () => {\n          setShowImportScreen(true);\n        },\n        style: {\n          display: \"flex\",\n          gap: spacing.sm,\n          alignItems: \"center\"\n        },\n        children: \"Import wallet\"\n      })\n    })]\n  });\n};\nconst CreateLocalWallet_Guest = props => {\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const {\n    onConnect\n  } = props;\n  const handleConnect = useCallback(async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    await localWallet.generate();\n    setConnectionStatus(\"connecting\");\n    await wait(1000);\n    await localWallet.connect();\n    setConnectedWallet(localWallet);\n    onConnect();\n  }, [localWallet, setConnectedWallet, onConnect, setConnectionStatus]);\n  const connecting = useRef(false);\n  useEffect(() => {\n    if (connecting.current || !localWallet) {\n      return;\n    }\n    connecting.current = true;\n    handleConnect();\n  }, [handleConnect, localWallet]);\n  return /*#__PURE__*/jsx(Container, {\n    flex: \"row\",\n    center: \"both\",\n    fullHeight: true,\n    style: {\n      minHeight: \"300px\"\n    },\n    children: /*#__PURE__*/jsx(Spinner, {\n      size: \"xl\",\n      color: \"accentText\"\n    })\n  });\n};\n\nconst OverrideConfirmation = props => {\n  const isCompact = useContext(ModalConfigCtx).modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.onBack,\n        title: \"Warning\"\n      })\n    }), /*#__PURE__*/jsxs(Container, {\n      p: isCompact ? \"lg\" : \"xxl\",\n      expand: true,\n      center: \"y\",\n      flex: \"column\",\n      children: [/*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        center: \"x\",\n        color: \"danger\",\n        children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n          width: iconSize.xl,\n          height: iconSize.xl\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Text, {\n        multiline: true,\n        center: true,\n        children: \"Your current wallet will be deleted if you create a new wallet. Backup wallet to your device before creating a new wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        style: {\n          justifyContent: \"flex-end\"\n        },\n        children: /*#__PURE__*/jsx(Button, {\n          variant: \"accent\",\n          fullWidth: true,\n          onClick: props.onBackup,\n          children: \"Backup wallet\"\n        })\n      })]\n    })]\n  });\n};\n\n/**\n * For No-Credential scenario\n */\nconst ReconnectLocalWallet = props => {\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [showCreate, setShowCreate] = useState(false);\n  const [showBackupConfirmation, setShowBackupConfirmation] = useState(false);\n  const [showExport, setShowExport] = useState(false);\n  const {\n    localWallet,\n    meta,\n    walletData\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const savedAddress = walletData ? walletData === \"loading\" ? \"\" : walletData.address : \"\";\n  if (showExport) {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    return /*#__PURE__*/jsx(ExportLocalWallet, {\n      modalSize: props.modalSize,\n      localWalletConfig: props.localWallet,\n      onBack: () => {\n        setShowExport(false);\n      },\n      onExport: () => {\n        setShowExport(false);\n        setShowBackupConfirmation(false);\n        setShowCreate(true);\n      }\n    });\n  }\n  if (showBackupConfirmation) {\n    return /*#__PURE__*/jsx(OverrideConfirmation, {\n      meta: meta,\n      onBackup: () => {\n        setShowExport(true);\n      },\n      onBack: () => {\n        setShowBackupConfirmation(false);\n      }\n    });\n  }\n  if (showCreate) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n      renderBackButton: props.supportedWallets.length > 1,\n      localWalletConf: props.localWallet,\n      goBack: () => {\n        setShowCreate(false);\n      },\n      onConnect: props.onConnect,\n      persist: props.persist\n    });\n  }\n  const handleReconnect = async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    try {\n      await localWallet.load({\n        strategy: \"encryptedJson\",\n        password\n      });\n      setConnectionStatus(\"connecting\");\n      await localWallet.connect();\n      setConnectedWallet(localWallet);\n      props.onConnect();\n    } catch (e) {\n      setIsWrongPassword(true);\n    }\n    setIsConnecting(false);\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: meta.name\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      expand: true,\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        size: \"lg\",\n        color: \"primaryText\",\n        children: \"Connect to saved wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Label, {\n        children: \"Saved Wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"sm\"\n      }), /*#__PURE__*/jsx(Text, {\n        children: savedAddress === \"\" ? \"Loading...\" : shortenAddress(savedAddress)\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleReconnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: savedAddress,\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          required: true,\n          name: \"current-password\",\n          autocomplete: \"current-password\",\n          id: \"current-password\",\n          onChange: value => {\n            setPassword(value);\n            setIsWrongPassword(false);\n          },\n          right: {\n            onClick: () => setShowPassword(!showPassword),\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          error: isWrongPassword ? \"Wrong Password\" : \"\",\n          dataTest: \"current-password\",\n          placeholder: \"Enter your password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            display: \"flex\",\n            gap: spacing.sm\n          },\n          children: [\"Continue\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"sm\"\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(Button, {\n        variant: \"link\",\n        fullWidth: true,\n        style: {\n          textAlign: \"center\"\n        },\n        onClick: () => {\n          setShowBackupConfirmation(true);\n        },\n        children: \"Create a new wallet\"\n      })\n    })]\n  });\n};\n\nconst LocalWalletConnectUI = props => {\n  const {\n    walletData\n  } = useLocalWalletInfo(props.walletConfig, props.persist);\n  if (!props.persist) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Guest, {\n      persist: props.persist,\n      localWallet: props.walletConfig,\n      goBack: props.goBack,\n      onConnect: props.connected\n    });\n  }\n  if (walletData === \"loading\") {\n    return /*#__PURE__*/jsx(Container, {\n      flex: \"row\",\n      center: \"both\",\n      style: {\n        height: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        size: \"xl\",\n        color: \"accentText\"\n      })\n    });\n  }\n  if (walletData) {\n    return /*#__PURE__*/jsx(ReconnectLocalWallet, {\n      modalSize: props.modalSize,\n      renderBackButton: props.supportedWallets.length > 1,\n      supportedWallets: props.supportedWallets,\n      onConnect: props.connected,\n      goBack: props.goBack,\n      localWallet: props.walletConfig,\n      persist: props.persist\n    });\n  }\n  return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n    goBack: props.goBack,\n    localWalletConf: props.walletConfig,\n    onConnect: props.connected,\n    renderBackButton: props.supportedWallets.length > 1,\n    persist: props.persist\n  });\n};\n\nconst desktopIcon = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xXzY0KSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV82NCkiPgo8cGF0aCBkPSJNNTguNzUgMTkuMTY2N0gyMS4yNUMxOC45NTgzIDE5LjE2NjcgMTcuMDgzMyAyMS4wNDE3IDE3LjA4MzMgMjMuMzMzNFY0OC4zMzM0QzE3LjA4MzMgNTAuNjI1IDE4Ljk1ODMgNTIuNSAyMS4yNSA1Mi41SDM1LjgzMzNMMzEuNjY2NyA1OC43NVY2MC44MzM0SDQ4LjMzMzNWNTguNzVMNDQuMTY2NyA1Mi41SDU4Ljc1QzYxLjA0MTcgNTIuNSA2Mi45MTY3IDUwLjYyNSA2Mi45MTY3IDQ4LjMzMzRWMjMuMzMzNEM2Mi45MTY3IDIxLjA0MTcgNjEuMDQxNyAxOS4xNjY3IDU4Ljc1IDE5LjE2NjdaTTU4Ljc1IDQ0LjE2NjdIMjEuMjVWMjMuMzMzNEg1OC43NVY0NC4xNjY3WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzFfNjQiIHgxPSI0MCIgeTE9IjAiIHgyPSI0MCIgeTI9IjgwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDRTExQUIiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOTAwQkI1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV82NCI+CjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1IDE1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=\";\nconst phoneIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl80NF8yKSIvPgo8cGF0aCBkPSJNNDguNjE1NCAxNkgzMS4zODQ2QzI4LjQxMjMgMTYgMjYgMTguMzkyNyAyNiAyMS4zNDA5VjU3LjY1OTFDMjYgNjAuNjA3MyAyOC40MTIzIDYzIDMxLjM4NDYgNjNINDguNjE1NEM1MS41ODc3IDYzIDU0IDYwLjYwNzMgNTQgNTcuNjU5MVYyMS4zNDA5QzU0IDE4LjM5MjcgNTEuNTg3NyAxNiA0OC42MTU0IDE2Wk00MCA2MC44NjM2QzM4LjIxMjMgNjAuODYzNiAzNi43NjkyIDU5LjQzMjMgMzYuNzY5MiA1Ny42NTkxQzM2Ljc2OTIgNTUuODg1OSAzOC4yMTIzIDU0LjQ1NDUgNDAgNTQuNDU0NUM0MS43ODc3IDU0LjQ1NDUgNDMuMjMwOCA1NS44ODU5IDQzLjIzMDggNTcuNjU5MUM0My4yMzA4IDU5LjQzMjMgNDEuNzg3NyA2MC44NjM2IDQwIDYwLjg2MzZaTTQ5LjY5MjMgNTIuMzE4MkgzMC4zMDc3VjIyLjQwOTFINDkuNjkyM1Y1Mi4zMTgyWiIgZmlsbD0id2hpdGUiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl80NF8yIiB4MT0iNDAiIHkxPSIwIiB4Mj0iNDAiIHkyPSI4MCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjQ0UxMUFCIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkwMEJCNSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=`;\nconst localWallet = config => {\n  return {\n    id: LocalWallet.id,\n    isHeadless: true,\n    meta: {\n      ...LocalWallet.meta,\n      name: \"Guest Wallet\",\n      iconURL: isMobile() ? phoneIcon : desktopIcon\n    },\n    create: options => new LocalWallet(options),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(LocalWalletConnectUI, {\n        ...props,\n        persist: config && config.persist !== undefined ? config.persist : true\n      });\n    }\n  };\n};\n\nconst SmartWalletConnecting = props => {\n  const activeWallet = useWallet(); // personal wallet\n\n  const connect = useConnect();\n  const connectedChain = useChain();\n  const targetChain = useWalletContext().activeChain;\n  const mismatch = useNetworkMismatch();\n  const [connectError, setConnectError] = useState(false);\n  const [switchError, setSwitchError] = useState(false);\n  const [switchingNetwork, setSwitchingNetwork] = useState(false);\n  const connectionStatus = useConnectionStatus();\n  const {\n    onConnect\n  } = props;\n  const connectStarted = useRef(false);\n  const switchChain = useSwitchChain();\n  const modalSize = useContext(ModalConfigCtx).modalSize;\n  const handleConnect = useCallback(async () => {\n    if (!activeWallet || !connectedChain || connectStarted.current) {\n      return;\n    }\n    setConnectError(false);\n    try {\n      connectStarted.current = true;\n      await connect(props.smartWallet, {\n        personalWallet: activeWallet\n      });\n      onConnect();\n    } catch (e) {\n      console.error(e);\n      setConnectError(true);\n    }\n  }, [activeWallet, connectedChain, connect, props.smartWallet, onConnect]);\n  useEffect(() => {\n    if (!mismatch) {\n      handleConnect();\n    }\n  }, [mismatch, handleConnect, activeWallet, connectedChain]);\n  if (!connectError && (connectionStatus === \"connecting\" || !mismatch)) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      flex: \"column\",\n      center: \"both\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        color: \"accentText\",\n        size: \"xl\"\n      })\n    });\n  }\n  if (connectError) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      animate: \"fadein\",\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Text, {\n        color: \"danger\",\n        children: \"Failed to connect to Smart Wallet\"\n      })\n    });\n  }\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    animate: \"fadein\",\n    flex: \"column\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: props.personalWallet.meta.name,\n        imgSrc: props.personalWallet.meta.iconURL,\n        onBack: props.onBack\n      })\n    }), modalSize === \"compact\" && /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      children: /*#__PURE__*/jsxs(Container, {\n        p: modalSize === \"wide\" ? \"lg\" : undefined,\n        children: [/*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          center: \"x\",\n          color: \"danger\",\n          children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          })\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsx(Text, {\n          size: \"lg\",\n          color: \"primaryText\",\n          center: true,\n          weight: 500,\n          children: \"Wrong Network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(Text, {\n          multiline: true,\n          center: true,\n          children: \"Your wallet is not connected to the required network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsxs(Container, {\n          flex: \"column\",\n          gap: \"md\",\n          children: [/*#__PURE__*/jsxs(Button, {\n            type: \"button\",\n            fullWidth: true,\n            variant: \"accent\",\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: spacing.sm\n            },\n            onClick: async () => {\n              if (!activeWallet) {\n                throw new Error(\"No active wallet\");\n              }\n              setConnectError(false);\n              setSwitchError(false);\n              setSwitchingNetwork(true);\n              try {\n                await switchChain(targetChain.chainId);\n              } catch (e) {\n                setSwitchError(true);\n              } finally {\n                setSwitchingNetwork(false);\n              }\n            },\n            children: [\" \", switchingNetwork ? \"Switching\" : \"Switch Network\", switchingNetwork && /*#__PURE__*/jsx(Spinner, {\n              size: \"sm\",\n              color: \"accentButtonText\"\n            })]\n          }), /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            gap: \"sm\",\n            center: \"both\",\n            color: \"danger\",\n            style: {\n              textAlign: \"center\",\n              fontSize: fontSize.sm,\n              opacity: switchError ? 1 : 0,\n              transition: \"opacity 200ms ease\"\n            },\n            children: [/*#__PURE__*/jsx(ExclamationTriangleIcon, {\n              width: iconSize.sm,\n              height: iconSize.sm\n            }), /*#__PURE__*/jsx(\"span\", {\n              children: \"Failed to switch network\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nconst smartWallet = (wallet, config) => {\n  const WalletSelectUI = wallet.selectUI;\n  return {\n    ...wallet,\n    create: options => new SmartWallet({\n      ...options,\n      ...config\n    }),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(SmartConnectUI, {\n        ...props,\n        personalWallet: wallet\n      });\n    },\n    selectUI: WalletSelectUI ? props => {\n      return /*#__PURE__*/jsx(WalletSelectUI, {\n        ...props,\n        walletConfig: wallet\n      });\n    } : undefined,\n    personalWallets: [wallet]\n  };\n};\nconst SmartConnectUI = props => {\n  const activeWallet = useWallet();\n  const {\n    walletConfig\n  } = props;\n  const PersonalWalletConfig = props.personalWallet;\n  if (!activeWallet) {\n    const _props = {\n      ...props,\n      walletConfig: PersonalWalletConfig,\n      connected: () => {\n        // override to no-op\n      }\n    };\n    if (PersonalWalletConfig.connectUI) {\n      return /*#__PURE__*/jsx(PersonalWalletConfig.connectUI, {\n        ..._props\n      });\n    }\n    return /*#__PURE__*/jsx(HeadlessConnectUI, {\n      ..._props\n    });\n  }\n  return /*#__PURE__*/jsx(SmartWalletConnecting, {\n    onBack: props.goBack,\n    onConnect: props.connected,\n    smartWallet: walletConfig,\n    personalWallet: props.personalWallet\n  });\n};\n\nvar smartWallet$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  smartWallet: smartWallet,\n  SmartConnectUI: SmartConnectUI\n});\n\nconst OKXScan = _ref => {\n  let {\n    onBack,\n    onConnected,\n    onGetStarted,\n    walletConfig,\n    hideBackButton\n  } = _ref;\n  const createInstance = useCreateWalletInstance();\n  const [qrCodeUri, setQrCodeUri] = useState();\n  const {\n    setConnectedWallet,\n    chainToConnect,\n    setConnectionStatus\n  } = useWalletContext();\n  const scanStarted = useRef(false);\n  useEffect(() => {\n    if (scanStarted.current) {\n      return;\n    }\n    scanStarted.current = true;\n    const wallet = createInstance(walletConfig);\n    setConnectionStatus(\"connecting\");\n    wallet.connectWithQrCode({\n      chainId: chainToConnect?.chainId,\n      onQrCodeUri(uri) {\n        setQrCodeUri(uri);\n      },\n      onConnected() {\n        setConnectedWallet(wallet);\n        onConnected();\n      }\n    });\n  }, [createInstance, setConnectedWallet, chainToConnect, onConnected, walletConfig, setConnectionStatus]);\n  return /*#__PURE__*/jsx(ScanScreen, {\n    onBack: onBack,\n    onGetStarted: onGetStarted,\n    qrCodeUri: qrCodeUri,\n    walletName: walletConfig.meta.name,\n    walletIconURL: walletConfig.meta.iconURL,\n    hideBackButton: hideBackButton\n  });\n};\n\nconst OKXConnectUI = props => {\n  const [screen, setScreen] = useState(\"connecting\");\n  const {\n    walletConfig,\n    connected\n  } = props;\n  const connect = useConnect();\n  const [errorConnecting, setErrorConnecting] = useState(false);\n  const hideBackButton = props.supportedWallets.length === 1;\n  const connectToExtension = useCallback(async () => {\n    try {\n      connectPrompted.current = true;\n      setErrorConnecting(false);\n      setScreen(\"connecting\");\n      await wait(1000);\n      await connect(walletConfig);\n      connected();\n    } catch (e) {\n      setErrorConnecting(true);\n      console.error(e);\n    }\n  }, [connected, connect, walletConfig]);\n  const connectPrompted = useRef(false);\n  useEffect(() => {\n    if (connectPrompted.current) {\n      return;\n    }\n    const isInstalled = walletConfig.isInstalled ? walletConfig.isInstalled() : false;\n\n    // if loading\n    (async () => {\n      if (isInstalled) {\n        connectToExtension();\n      }\n\n      // if wallet is not injected\n      else {\n        // on mobile, deep link to the okx app\n        if (isMobile()) {\n          window.open(`okx://wallet/dapp/details?dappUrl=${window.location.toString()}`);\n        } else {\n          // on desktop, show the OKX scan qr code\n          setScreen(\"scanning\");\n        }\n      }\n    })();\n  }, [connectToExtension, walletConfig]);\n  if (screen === \"connecting\") {\n    return /*#__PURE__*/jsx(ConnectingScreen, {\n      errorConnecting: errorConnecting,\n      onGetStarted: () => {\n        setScreen(\"get-started\");\n      },\n      onRetry: connectToExtension,\n      hideBackButton: hideBackButton,\n      onBack: props.goBack,\n      walletName: walletConfig.meta.name,\n      walletIconURL: walletConfig.meta.iconURL\n    });\n  }\n  if (screen === \"get-started\") {\n    return /*#__PURE__*/jsx(GetStartedScreen, {\n      walletIconURL: walletConfig.meta.iconURL,\n      walletName: walletConfig.meta.name,\n      chromeExtensionLink: walletConfig.meta.urls?.chrome,\n      googlePlayStoreLink: walletConfig.meta.urls?.android,\n      appleStoreLink: walletConfig.meta.urls?.ios,\n      onBack: props.goBack\n    });\n  }\n  if (screen === \"scanning\") {\n    return /*#__PURE__*/jsx(OKXScan, {\n      onBack: props.goBack,\n      onConnected: props.connected,\n      onGetStarted: () => {\n        setScreen(\"get-started\");\n      },\n      hideBackButton: hideBackButton,\n      walletConfig: walletConfig\n    });\n  }\n  return null;\n};\n\nconst okxWallet = options => {\n  return {\n    id: OKXWallet.id,\n    recommended: options?.recommended,\n    meta: {\n      name: \"OKX Wallet\",\n      urls: {\n        chrome: \"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge\",\n        android: \"https://play.google.com/store/apps/details?id=com.okinc.okex.gp&pli=1\",\n        ios: \"https://apps.apple.com/us/app/okx-buy-bitcoin-eth-crypto/id1327268470\"\n      },\n      iconURL: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik00Ni4wMjg0IDMyLjk2NjhIMzMuMDE5OUMzMi40Njc3IDMyLjk2NjggMzIuMDE1IDMzLjQxOTUgMzIuMDE1IDMzLjk3MTZWNDYuOTgwMUMzMi4wMTUgNDcuNTMyMyAzMi40Njc3IDQ3Ljk4NSAzMy4wMTk5IDQ3Ljk4NUg0Ni4wMjg0QzQ2LjU4MDUgNDcuOTg1IDQ3LjAzMzIgNDcuNTMyMyA0Ny4wMzMyIDQ2Ljk4MDFWMzMuOTcxNkM0Ny4wMzMyIDMzLjQxOTUgNDYuNTgwNSAzMi45NjY4IDQ2LjAyODQgMzIuOTY2OFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMS4wMTMzIDE4SDE4LjAwNDlDMTcuNDUyNyAxOCAxNyAxOC40NTI3IDE3IDE5LjAwNDlWMzIuMDEzM0MxNyAzMi41NjU1IDE3LjQ1MjcgMzMuMDE4MiAxOC4wMDQ5IDMzLjAxODJIMzEuMDEzM0MzMS41NjU1IDMzLjAxODIgMzIuMDE4MiAzMi41NjU1IDMyLjAxODIgMzIuMDEzM1YxOS4wMDQ5QzMyLjAxNSAxOC40NTI3IDMxLjU2NTUgMTggMzEuMDEzMyAxOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MC45OTUyIDE4SDQ3Ljk4NjdDNDcuNDM0NSAxOCA0Ni45ODE4IDE4LjQ1MjcgNDYuOTgxOCAxOS4wMDQ5VjMyLjAxMzNDNDYuOTgxOCAzMi41NjU1IDQ3LjQzNDUgMzMuMDE4MiA0Ny45ODY3IDMzLjAxODJINjAuOTk1MkM2MS41NDczIDMzLjAxODIgNjIgMzIuNTY1NSA2MiAzMi4wMTMzVjE5LjAwNDlDNjIgMTguNDUyNyA2MS41NDczIDE4IDYwLjk5NTIgMThaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzEuMDEzMyA0Ny45MzM3SDE4LjAwNDlDMTcuNDUyNyA0Ny45MzM3IDE3IDQ4LjM4NjQgMTcgNDguOTM4NlY2MS45NDcxQzE3IDYyLjQ5OTIgMTcuNDUyNyA2Mi45NTE5IDE4LjAwNDkgNjIuOTUxOUgzMS4wMTMzQzMxLjU2NTUgNjIuOTUxOSAzMi4wMTgyIDYyLjQ5OTIgMzIuMDE4MiA2MS45NDcxVjQ4LjkzODZDMzIuMDE1IDQ4LjM4NjQgMzEuNTY1NSA0Ny45MzM3IDMxLjAxMzMgNDcuOTMzN1oiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02MC45OTUyIDQ3LjkzMzdINDcuOTg2N0M0Ny40MzQ1IDQ3LjkzMzcgNDYuOTgxOCA0OC4zODY0IDQ2Ljk4MTggNDguOTM4NlY2MS45NDcxQzQ2Ljk4MTggNjIuNDk5MiA0Ny40MzQ1IDYyLjk1MTkgNDcuOTg2NyA2Mi45NTE5SDYwLjk5NTJDNjEuNTQ3MyA2Mi45NTE5IDYyIDYyLjQ5OTIgNjIgNjEuOTQ3MVY0OC45Mzg2QzYyIDQ4LjM4NjQgNjEuNTQ3MyA0Ny45MzM3IDYwLjk5NTIgNDcuOTMzN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=\"\n    },\n    create: walletOptions => {\n      const wallet = new OKXWallet({\n        ...walletOptions,\n        projectId: options?.projectId,\n        qrcode: false\n      });\n      return wallet;\n    },\n    connectUI: OKXConnectUI,\n    isInstalled() {\n      return !!getInjectedOKXProvider();\n    }\n  };\n};\n\nexport { embeddedWallet, localWallet, okxWallet, smartWallet, useSmartWallet };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}